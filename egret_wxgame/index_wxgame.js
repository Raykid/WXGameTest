!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=49)}([function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"b",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"d",function(){return c});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{c(r.next(t))}catch(t){o(t)}}function s(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}c((r=r.apply(t,e||[])).next())})}function c(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return a});n(32);var r=n(4),i=(n(25),n(40)),o=function(){function t(){if(this._observable=new i.a,this._injectDict=new r.a,this._injectStrDict=new r.a,t._instance)throw new Error("已生成过Core实例，不允许多次生成");t._instance=this,this.mapInjectValue(this)}return Object.defineProperty(t.prototype,"disposed",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"observable",{get:function(){return this._observable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._observable.dispatch.apply(this._observable,t)},t.prototype.listen=function(t,e,n,r){void 0===r&&(r=!1),this._observable.listen(t,e,n,r)},t.prototype.unlisten=function(t,e,n,r){void 0===r&&(r=!1),this._observable.unlisten(t,e,n,r)},t.prototype.mapCommand=function(t,e){this._observable.mapCommand(t,e)},t.prototype.unmapCommand=function(t,e){this._observable.unmapCommand(t,e)},t.prototype.mapInject=function(t,e){var n=t.__ori_constructor__||t,r=this._injectDict.get(n)||new t;this.mapInjectValue(r,e)},t.prototype.mapInjectValue=function(t,e){e instanceof Function&&e.prototype||(this._injectStrDict.set(e,t.constructor),e=t.constructor),this._injectDict.set(t.constructor,t),Reflect.defineMetadata("design:type",t,e.__ori_constructor__||e)},t.prototype.unmapInject=function(t){t instanceof Function&&t.prototype||(t=this._injectStrDict.get(t)),Reflect.deleteMetadata("design:type",t.__ori_constructor__||t)},t.prototype.getInject=function(t){if(t instanceof Function&&t.prototype||(t=this._injectStrDict.get(t)),t)return t=t.__ori_constructor__||t,Reflect.getMetadata("design:type",t)},t.prototype.dispose=function(){},t}(),a=new o},function(t,e,n){"use strict";n.d(e,"a",function(){return o});n(32),n(3);var r=n(1),i=n(25);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(this!==i.decorateThis)return function(e){for(var n=0,i=t;n<i.length;n++){var o=i[n];r.a.mapInject(e,o)}r.a.mapInject(e)};r.a.mapInject(t[0])}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"e",function(){return wrapConstruct}),__webpack_require__.d(__webpack_exports__,"a",function(){return getConstructor}),__webpack_require__.d(__webpack_exports__,"c",function(){return listenConstruct}),__webpack_require__.d(__webpack_exports__,"d",function(){return listenDispose}),__webpack_require__.d(__webpack_exports__,"b",function(){return listenApply});var _libs_Reflect__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),_libs_Reflect__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_libs_Reflect__WEBPACK_IMPORTED_MODULE_0__),_utils_Dictionary__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_utils_ObjectUtil__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),hasProxy=!1;window.Proxy&&(Proxy.revocable,Function);var instanceDict=new _utils_Dictionary__WEBPACK_IMPORTED_MODULE_1__.a;function handleInstance(t){var e=t.constructor;e=e.__ori_constructor__||e;var n=instanceDict.get(e);if(n)for(var r=0,i=n;r<i.length;r++){(0,i[r])(t)}}function wrapConstruct(cls){if(hasProxy)return new Proxy(cls,{construct:function(t,e,n){var r=Reflect.construct(t,e,n);return n&&(r.constructor=n),handleInstance(r),r}});var func;try{eval("func = function "+cls.name+"(){onConstruct.call(this, arguments)}")}catch(t){func=onConstruct}return Object(_utils_ObjectUtil__WEBPACK_IMPORTED_MODULE_2__.c)(func,cls),func.__ori_constructor__=cls,cls.__wrap_constructor__=func,func;function onConstruct(t){Object.defineProperty(this,"__proto__",{configurable:!0,enumerable:!1,writable:!0,value:cls.prototype}),cls.apply(this,t),handleInstance(this)}}function getConstructor(t){return t.__wrap_constructor__||t}function listenConstruct(t,e){t=t.__ori_constructor__||t;var n=instanceDict.get(t);n||instanceDict.set(t,n=[]),n.indexOf(e)<0&&n.push(e)}function unlistenConstruct(t,e){t=t.__ori_constructor__||t;var n=instanceDict.get(t);if(n){var r=n.indexOf(e);r>=0&&n.splice(r,1)}}function listenDispose(t,e){var n=t.prototype.dispose;n&&(t.prototype.dispose=function(){return e(this),n.apply(this,arguments)})}function listenApply(t,e,n,r,i){function o(t){var o=t.hasOwnProperty(e)?t[e]:null;t[e]=function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var c=n&&n(t,a);c&&(a=c),i&&(o?t[e]=o:delete t[e]);var u=t[e].apply(this,a),l=r&&r(t,a,u);return l&&(u=l),u}}void 0===i&&(i=!0),t instanceof Function?listenConstruct(t,o):o(t)}},function(t,e,n){"use strict";var r=n(6),i=function(){function t(){this._keyDict={},this._valueDict={}}return Object.defineProperty(t.prototype,"size",{get:function(){var t=0;for(var e in this._keyDict)t++;return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keys",{get:function(){var t=[];for(var e in this._keyDict)t.push(this._keyDict[e]);return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"values",{get:function(){var t=[];for(var e in this._valueDict)t.push(this._valueDict[e]);return t},enumerable:!0,configurable:!0}),t.prototype.set=function(t,e){var n=Object(r.d)(t);this._keyDict[n]=t,this._valueDict[n]=e},t.prototype.get=function(t){var e=Object(r.d)(t);return this._valueDict[e]},t.prototype.delete=function(t){var e=Object(r.d)(t);delete this._keyDict[e],delete this._valueDict[e]},t.prototype.forEach=function(t){for(var e in this._keyDict){t(this._keyDict[e],this._valueDict[e])}},t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"d",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"e",function(){return s}),n.d(e,"g",function(){return c}),n.d(e,"f",function(){return u}),n.d(e,"c",function(){return f});var r=n(6);function i(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.host}function o(t){"/"==(t=t.replace(/([^:\/]|(:\/))\/+/g,"$1/")).charAt(0)&&(t=t.substr(1));for(var e=/(?!:\/{2,}[^\/]+\/)([^\/\.]+)\/[^\/\.]+?\/\.\.\//;e.test(t);)t=t.replace(e,"/$1");for(e=/\/\.{1,2}\//;e.test(t);)t=t.replace(e,"/");return t}function a(t){return null!=t&&t.indexOf("://")>=0}function s(t,e){if(null==t)return null;var n=t.indexOf("://");return n<0?t:(n++,e?e+t.substr(n):"http:"==(e=t.substring(0,n))||"https:"==e?window.location.protocol+t.substr(n):"ws:"==e||"wss:"==e?(e="https:"==window.location.protocol?"wss:":"ws:")+t.substr(n):t)}function c(t,e,n){if(void 0===n&&(n=!1),null==t)return t;e=e||i();var r=t.match(/^(?:[^\/]+):\/{2,}(?:[^\/]+)\//);return r&&r.length>0?n&&(t=s(t=e+"/"+(t=t.substr(r[0].length)))):t=s(t=e+"/"+t),t=o(t)}function u(t,e){var n=o(function(t){var e=(t=l(t)).split("/");return e.pop(),e.join("/")+"/"}(window.location.href)+"/"+t);return null!=e&&(n=c(n,e,!0)),n}function l(t){if(null==t)throw new Error("url不能为空");return t=o(t=t.split("#")[0].split("?")[0])}function p(t){var e=/(([^:]+:)\/{2,}(([^:\/\?#]+)(:(\d+))?))?(\/[^?#]*)?(\?[^#]*)?(#.*)?/.exec(t);if(e)return{href:e[0]||"",origin:e[1]||"",protocol:e[2]||"",host:e[3]||"",hostname:e[4]||"",port:e[6]||"",pathname:e[7]||"",search:e[8]||"",hash:("#"==e[9]?"":e[9])||""};throw new Error("传入parseUrl方法的参数不是一个完整的URL："+t)}function f(t,e){if(null==t)throw new Error("url不能为空");var n=function(t){var e=t.indexOf("#");if(e>=0&&(t=t.substring(0,e)),(e=t.indexOf("?"))<0)return{};for(var n={},r=0,i=t.substring(e+1).split("&");r<i.length;r++){var o=i[r],a=o.split("=",2);if(2===a.length&&a[0]){var s=decodeURIComponent(a[0]),c=decodeURIComponent(a[1]);n[s]=c}else console.log("[URLUtil] invalid query params: "+o)}return n}(t),i=Object(r.b)(n,e),o=p(t).hash;t=l(t);var a=!0;for(var s in i)a?(t+="?"+encodeURIComponent(s)+"="+encodeURIComponent(i[s]),a=!1):t+="&"+encodeURIComponent(s)+"="+encodeURIComponent(i[s]);return t+=o}},function(t,e,n){"use strict";function r(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.forEach(function(e){if(e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),t}function i(t,e){if(void 0===e&&(e=!1),null==t)return null;for(var n=Object.create(Object.getPrototypeOf(t)),r=0,o=Object.keys(t);r<o.length;r++){var a=o[r],s=t[a];e&&"object"==typeof s&&(s=i(s,!0));var c=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,c)}return n}n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"d",function(){return c}),n.d(e,"e",function(){return u});var o=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=0,s=["object","function"];function c(t){if(null==t)return"__object_hash_0__";var e="__object_hash__";if(Object.prototype.hasOwnProperty.call(t,e)&&(r=t[e]),r)return r;var n=typeof t;if(s.indexOf(n)<0)return n+":"+t;var r="__object_hash_"+ ++a+"__";return Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:!1,value:r}),r}function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.map(function(t){return c(t)}).join("|")}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n(0),i=n(1),o=n(2),a=n(11),s=n(9),c=n(22),u=n(13),l=n(17),p=n(27),f=function(){function t(){this._bridgeDict={},this._bridgeList=[]}return Object.defineProperty(t.prototype,"currentBridge",{get:function(){var t=l.a.currentScene||c.a.currentModuleInstance;if(t)for(var e=0,n=this.getAllHasBridges(t);e<n.length;e++){var r=n[e];if(r.bridge)return r.bridge}return this._bridgeList[0]&&this._bridgeList[0][0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bridges",{get:function(){return this._bridgeList.map(function(t){return t[0]})},enumerable:!0,configurable:!0}),t.prototype.getAllHasBridges=function(t){var e=[t];if(t instanceof s.a)for(var n=0,r=t.children;n<r.length;n++){var i=r[n];e=e.concat(this.getAllHasBridges(i))}return e},t.prototype.getBridge=function(t){var e=this._bridgeDict[t];return e&&e[0]},t.prototype.getBridgeBySkin=function(t){if(t)for(var e=0,n=this._bridgeList;e<n.length;e++){var r=n[e][0];if(r.isMySkin(t))return r}return null},t.prototype.registerBridge=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(document.body)if(e.length>0){for(var r=this,o=0,s=e;o<s.length;o++){var c=(d=s[o]).type;if(!this._bridgeDict[c]){var l=[d,!1];this._bridgeDict[c]=l,this._bridgeList.push(l)}}for(var f=0,h=e;f<h.length;f++){var d=h[f];i.a.dispatch(p.a.BRIDGE_BEFORE_INIT,d),a.a.registerMask(d.type,d.maskEntity),u.a.registerPrompt(d.type,d.promptClass),d.init?d.init(g):g(d)}}else this.testAllInit();else{var _=function(n){window.removeEventListener("load",_),t.registerBridge.apply(t,e)};window.addEventListener("load",_)}function g(t){i.a.dispatch(p.a.BRIDGE_AFTER_INIT,t),r._bridgeDict[t.type][1]=!0,t.htmlWrapper.style.display="none",r.testAllInit()}},t.prototype.testAllInit=function(){for(var t=!0,e=0,n=this._bridgeList;e<n.length;e++){var r=n[e];t=t&&r[1]}t&&i.a.dispatch(p.a.BRIDGE_ALL_INIT)},t=r.b([o.a],t)}(),h=i.a.getInject(f)},function(t,e,n){"use strict";var r;!function(t){t[t.UNOPEN=0]="UNOPEN",t[t.OPENING=1]="OPENING",t[t.OPENED=2]="OPENED",t[t.CLOSING=3]="CLOSING",t[t.CLOSED=4]="CLOSED",t[t.DISPOSING=5]="DISPOSING",t[t.DISPOSED=6]="DISPOSED"}(r||(r={})),e.a=r},function(t,e,n){"use strict";var r=n(1),i=n(40),o=n(30),a=n(3),s=n(4),c=n(31),u=n(12),l=n(6),p=function(){function t(){this._map=new s.a}return t.prototype.watch=function(t){this._map.set(t,t)},t.prototype.notify=function(t){var e=this;this._map.forEach(function(n){n.disposed?e._map.delete(n):n.update(t)})},t}(),f=n(35),h=["push","pop","unshift","shift","splice","sort","reverse"];function d(t){if(!t||"object"!=typeof t)return t;for(var e={},n=0,r=Object.keys(t).concat(Object.keys(t.__proto__||{}));n<r.length;n++){var i=r[n];e[i]||(e[i]=i,v(t,i))}return t}function _(t,e,n){var r=f.a.updating;r&&t.watch(r),n&&(Array.isArray(e)?y(e,t):d(e))}function g(t,e){Array.isArray(e)?y(e,t):d(e),t.notify()}function v(t,e){var n=Object(l.e)(t,e),r=t[n],i=!0;if(!r){r=new p;var o=Object.getOwnPropertyDescriptor(t,e)||Object.getOwnPropertyDescriptor(t.__proto__||{},e);o&&(o.hasOwnProperty("value")?Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var t=o.value;return _(r,t,i),i=!1,t},set:function(t){o.writable&&t!==o.value&&(o.value=t,g(r,t))}}):Object.defineProperty(t,e,{enumerable:!0,configurable:!1,get:function(){if(o.get){var e=o.get.call(t);return _(r,e,i),i=!1,e}},set:function(e){o.set&&(o.set.call(t,e),g(r,e))}})),Object.defineProperty(t,n,{value:r,writable:!1,enumerable:!1,configurable:!1})}}function y(t,e){Object.setPrototypeOf(t,function(t){var e=Array.prototype,n=Object.create(e);return h.forEach(function(r){var i=e[r];Object.defineProperty(n,r,{value:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o,a=i.apply(this,e);switch(r){case"push":case"unshift":o=e;break;case"splice":o=e.slice(2)}return o&&o.length&&y(o,t),t.notify({method:e}),a}})}),Object.defineProperty(n,"$set",{value:function(t,e){return t>=this.length&&(t=this.length),this.splice(t,1,e)[0]}}),Object.defineProperty(n,"$remove",{value:function(t){var e=this.indexOf(t);return e>-1?this.splice(e,1):null}}),n}(e));for(var n=0,r=t.length;n<r;n++)d(t[n])}var b=n(7),m=n(11),O=n(23),w=n(38),E=n(18),k=n(21),P=n(8);n.d(e,"d",function(){return C}),n.d(e,"b",function(){return M}),n.d(e,"c",function(){return A});var D={},S=new s.a;function C(t,e){D[t]=e,S.set(e,t)}function M(t){return D[t]}function A(t){var e=Object(a.a)(t instanceof Function?t:t.constructor);return S.get(e)}var R=function(){function t(t){this._status=P.a.UNOPEN,this.bindTargets=[],this._openMask=!0,this._listeners=[],this._disposeDict=new s.a,this.parent=null,this._children=[],this._observable=new i.a(r.a),this._moduleName=A(this),t&&(this.skin=t,this.bridge=b.a.getBridgeBySkin(t)),this.oriSkin=t,u.a.bind(this)}return Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"viewModel",{get:function(){return this._viewModel},set:function(t){this._viewModel=d(t),u.a.bind(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disposed",{get:function(){return this._status===P.a.DISPOSED},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"openMask",{get:function(){return this._openMask},set:function(t){this._openMask=t;for(var e=0,n=this._children;e<n.length;e++){n[e].openMask=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"responses",{get:function(){return this._responses},set:function(t){this._responses=t;for(var e=0,n=this._children;e<n.length;e++){n[e].responses=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moduleName",{get:function(){return this._moduleName},enumerable:!0,configurable:!0}),t.prototype.loadAssets=function(t){var e=this,n=this._children.concat(),r=function(i){i||n.length<=0?(e.onLoadAssets(i),t(i)):n.shift().loadAssets(r)},i=this.listAssets();i&&i.length>0?(i=Object(o.a)(i),this.bridge.loadAssets(i,this,r)):t()},t.prototype.loadStyleFiles=function(t){var e=this,n=this._children.concat(),r=function(i){i||n.length<=0?(e.onLoadStyleFiles(i),t(i)):n.shift().loadStyleFiles(r)},i=this.listStyleFiles();i=Object(o.a)(i),c.a.loadStyleFiles(i,r)},t.prototype.loadJsFiles=function(t){var e=this,n=this._children.concat(),r=function(i){i||n.length<=0?(e.onLoadJsFiles(i),t(i)):n.shift().loadJsFiles(r)},i=this.listJsFiles();i=Object(o.a)(i),c.a.loadJsFiles(i,r)},t.prototype.sendInitRequests=function(t){var e=this,n=this._children.concat(),r=function(o){if(o instanceof Error){var a=o instanceof Error?o:void 0;e.onSendInitRequests(a),t(a)}else{if(i)if(i=!1,e.responses=o,e.onGetResponses(o)){a=new Error("用户中止打开模块操作");return e.onSendInitRequests(a),void t(a)}if(n.length<=0)e.onSendInitRequests(),t();else n.shift().sendInitRequests(r)}},i=!0;O.a.sendMultiRequests(this.listInitRequests(),r,this,this.observable)},t.prototype.onLoadAssets=function(t){},t.prototype.onLoadStyleFiles=function(t){},t.prototype.onLoadJsFiles=function(t){},t.prototype.onSendInitRequests=function(t){},t.prototype.onGetResponses=function(t){return!1},t.prototype.open=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(this._status===P.a.UNOPEN){this._status=P.a.OPENING,this.data=t;var i=this.openMask;this.sendInitRequests(function(r){r?(o(),e.moduleOpenHandler&&e.moduleOpenHandler(E.a.Stop,r)):e.loadAssets(function(r){r?(o(),e.moduleOpenHandler&&e.moduleOpenHandler(E.a.Stop,r)):e.loadStyleFiles(function(r){r?(o(),e.moduleOpenHandler&&e.moduleOpenHandler(E.a.Stop,r)):e.loadJsFiles(function(r){if(o(),r)e.moduleOpenHandler&&e.moduleOpenHandler(E.a.Stop,r);else{e.moduleOpenHandler&&e.moduleOpenHandler(E.a.BeforeOpen),e.__beforeOnOpen.apply(e,[t].concat(n));var i=e.onOpen.apply(e,[t].concat(n));if(void 0!==i&&(e.data=t=i),e._viewModel||(e.viewModel={}),e._children.length>0)for(var a=0,s=e._children;a<s.length;a++){s[a].open(t)}e._status=P.a.OPENED,e.__afterOnOpen.apply(e,[t].concat(n)),e.moduleOpenHandler&&e.moduleOpenHandler(E.a.AfterOpen),e.dispatch(k.a.MEDIATOR_OPENED,e)}})})})}),i&&(m.a.showLoading(null,"mediatorOpen"),i=!1)}return this;function o(){i||m.a.hideLoading("mediatorOpen"),i=!1}},t.prototype.__beforeOnOpen=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.__afterOnOpen=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.close=function(t){for(var e=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(this._status===P.a.OPENED){var i=function(){e.__beforeOnClose.apply(e,[t].concat(n)),e._status=P.a.CLOSING,e.onClose.apply(e,[t].concat(n)),e._status=P.a.CLOSED,e.__afterOnClose.apply(e,[t].concat(n))},o=this._children.length;if(o>0){var a=function(t){e._children.indexOf(t)>=0&&0==--o&&(e.unlisten(k.a.MEDIATOR_CLOSED,a),i())};this.listen(k.a.MEDIATOR_CLOSED,a);for(var s=0,c=this._children.concat();s<c.length;s++){c[s].close(t)}}else i()}return this},t.prototype.__beforeOnClose=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.__afterOnClose=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.dispatch(k.a.MEDIATOR_CLOSED,this),this.dispose()},t.prototype.onOpen=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.onClose=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n]},t.prototype.mapListener=function(t,e,n,r){for(var i=0,o=this._listeners.length;i<o;i++){var a=this._listeners[i];if(a.target==t&&a.type==e&&a.handler==n&&a.thisArg==r)return}this._listeners.push({target:t,type:e,handler:n,thisArg:r}),this.bridge.mapListener(t,e,n,r)},t.prototype.unmapListener=function(t,e,n,r){for(var i=0,o=this._listeners.length;i<o;i++){var a=this._listeners[i];if(a.target==t&&a.type==e&&a.handler==n&&a.thisArg==r){this.bridge.unmapListener(t,e,n,r),this._listeners.splice(i,1);break}}},t.prototype.unmapAllListeners=function(){for(var t=0,e=this._listeners.length;t<e;t++){var n=this._listeners.pop();this.bridge.unmapListener(n.target,n.type,n.handler,n.thisArg)}},t.prototype.disposeChild=function(t,e){e.call(t),this.undelegateMediator(t)},Object.defineProperty(t.prototype,"root",{get:function(){return this.parent?this.parent.root:this},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),t.prototype.delegateMediator=function(t){this._children.indexOf(t)<0&&(this._children.push(t),t.parent=this,t.observable.parent=this._observable,t.hasOwnProperty("dispose")&&this._disposeDict.set(t,t.dispose),t.dispose=this.disposeChild.bind(this,t,t.dispose))},t.prototype.undelegateMediator=function(t){var e=this._children.indexOf(t);if(e>=0){this._children.splice(e,1),t.parent=null,t.observable&&(t.observable.parent=null);var n=this._disposeDict.get(t);n?t.dispose=n:delete t.dispose,this._disposeDict.delete(t)}},t.prototype.containsMediator=function(t){if(t===this)return!0;for(var e=!1,n=0,r=this._children;n<r.length;n++){if(r[n].containsMediator(t)){e=!0;break}}return e},t.prototype.wakeUp=function(t,e){this.onWakeUp(t,e);for(var n=0,r=this._children;n<r.length;n++){r[n].onWakeUp(t,e)}},t.prototype.activate=function(t,e){this.onActivate(t,e);for(var n=0,r=this._children;n<r.length;n++){r[n].onActivate(t,e)}},t.prototype.deactivate=function(t,e){this.onDeactivate(t,e);for(var n=0,r=this._children;n<r.length;n++){r[n].onDeactivate(t,e)}},t.prototype.listAssets=function(){return null},t.prototype.listStyleFiles=function(){return null},t.prototype.listJsFiles=function(){return null},t.prototype.listInitRequests=function(){return null},t.prototype.onWakeUp=function(t,e){},t.prototype.onActivate=function(t,e){},t.prototype.onDeactivate=function(t,e){},Object.defineProperty(t.prototype,"observable",{get:function(){return this._observable},enumerable:!0,configurable:!0}),t.prototype.dispatch=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._observable.dispatch.apply(this._observable,t)},t.prototype.listen=function(t,e,n,r){void 0===r&&(r=!1),this._observable.listen(t,e,n,r)},t.prototype.unlisten=function(t,e,n,r){void 0===r&&(r=!1),this._observable.unlisten(t,e,n,r)},t.prototype.mapCommand=function(t,e){this._observable.mapCommand(t,e)},t.prototype.unmapCommand=function(t,e){this._observable.unmapCommand(t,e)},t.prototype.dispose=function(){var t=this;if(!(this.status>=P.a.DISPOSING)){if(this._status=P.a.DISPOSING,u.a.unbind(this),this.unmapAllListeners(),this.onDispose(),!this.oriSkin&&this.skin&&this.bridge){var e=this.bridge.getParent(this.skin);e&&this.bridge.removeChild(e,this.skin)}this.bridge=null,this._viewModel=null,this.bindTargets=null,this.skin=null,this.oriSkin=null;for(var n=0,r=this._children.length;n<r;n++){var i=this._children.pop();this.undelegateMediator(i),i.dispose()}w.a.nextFrame(function(){t._observable.dispose(),t._observable=null,t._status=P.a.DISPOSED})}},t.prototype.onDispose=function(){},t}();e.a=R},function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"listenOnOpen",function(){return _}),n.d(r,"searchUIDepth",function(){return g}),n.d(r,"pushCompileCommand",function(){return y}),n.d(r,"unshiftCompileCommand",function(){return b}),n.d(r,"compile",function(){return m}),n.d(r,"compileValue",function(){return O}),n.d(r,"compileExp",function(){return w}),n.d(r,"compileFunc",function(){return E}),n.d(r,"compileOn",function(){return k}),n.d(r,"compileIf",function(){return D}),n.d(r,"compileFor",function(){return S}),n.d(r,"compileMessage",function(){return C}),n.d(r,"compileResponse",function(){return M}),n.d(r,"searchUI",function(){return A});n(1);var i=n(25),o=(n(2),n(33),n(32),n(3)),a=n(4),s=n(34),c=n(19),u=n(7),l=n(9),p=n(8),f=(n(23),n(0)),h=(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}f.c(e,t)}(function(){function t(){}return t.prototype.parse=function(t){return this.__rawData=this.doParse(t),this},t}()),n(12)),d=new a.a;function _(t,e,n){Object(o.b)(t.constructor,"onOpen",function(t){var n=d.get(t)||0;d.set(t,n+1),e&&e(t)},function(t){n&&n(t);var e=d.get(t)-1;if(d.set(t,e),e<=0){d.delete(t);var r=t.bindTargets;for(var i in r){r[i].forEach(function(e){return m(t,e)})}}})}function g(t,e,n,r,i){void 0===i&&(i=!1);var o=function(t,e){var n=t.skin,r=t.bridge,i=0;if(r.isMySkin(e)){for(;e&&e!==n;)i++,e=r.getParent(e);e||(i=0)}return i}(e,n),s=n.__stop_left_handlers__;function c(e,n,s){var u=-1;s&&(u=s.indexOf(c)),A(t,e,function(t,o,c,l){i&&(t=t[o]);var p=n[l];p||(n[l]=p=new a.a),p.set(t,e),r(t,e,o,c,s,u)},o)}s?s.push(c):c(n,e.bindTargets,s)}function v(t){var e=t.__bind_commands__;return e||(e=[],Object.defineProperty(t,"__bind_commands__",{configurable:!0,enumerable:!1,writable:!0,value:e})),e}function y(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];v(t).push({cmd:n,target:e,args:r})}function b(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];v(t).unshift({cmd:n,target:e,args:r})}function m(t,e,n){var r=e.__bind_commands__;if(r)for(;0<r.length;){var i=r.shift();i.cmd.apply(i,[t,e,i.target,n||[]].concat(i.args))}}function O(t,e,n,r,i,o){h.a.bindValue(t,e,n,r,i,o)}function w(t,e,n,r,i){h.a.bindExp(t,e,n,r,i)}function E(t,e,n,r,i){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];h.a.bindFunc.apply(h.a,[t,e,n,r,i].concat(o))}function k(t,e,n,r,i,o){h.a.bindOn(t,e,n,r,i,o)}function P(t,e,n){var r=t.bridge.getParent(e);return!!r&&(r===n||P(t,r,n))}function D(t,e,n,r,i){for(var o=e.__bind_commands__,a=[{target:e,params:o.splice(0,o.length)}],s=function(t,e){for(var n=[],r=0,i=t.bindTargets;r<i.length;r++){var o=i[r];o&&o.forEach(function(r){P(t,r,e)&&n.push(r)})}return n}(t,e),c=0,u=s;c<u.length;c++){var l=u[c],p=l.__bind_commands__;a.push({target:l,params:p.splice(0,p.length)})}var f=!1;h.a.bindIf(t,e,n,r,i,function(e){if(!f&&e){for(var n=0,i=a;n<i.length;n++){var o=i[n];o.target.__bind_commands__=o.params,m(t,o.target,r)}f=!0}})}function S(t,e,n,r,i,o,a,s,c){var u=n.__stop_left_handlers__;h.a.bindFor(t,e,n,r,i,o,a,s,c,function(e,n,r){for(var i=u.concat(),o=[],a=0,s=i;a<s.length;a++){(0,s[a])(n,o,i)}for(var c in o){o[c].forEach(function(e){return m(t,e,r)})}})}function C(t,e,n,r,i,o,a,s){h.a.bindMessage(t,e,n,r,i,o,a,s)}function M(t,e,n,r,i,o,a,s){h.a.bindResponse(t,e,n,r,i,o,a,s)}function A(t,e,n,r){for(var i in void 0===r&&(r=0),t){var o=t[i],a=i.indexOf(".");if(a>=0){var s={};s[i.substr(a+1)]=o,A(s,e[i.substring(0,a)],n,r+1)}else"object"!=typeof o||o instanceof Array?n(e,i,o,r):A(o,e[i],n,r+1)}}function R(t){return function(e){e.prototype.dispose||console.warn("Mediator["+e.name+"]不具有dispose方法，可能会造成内存问题，请让该Mediator实现IDisposable接口"),Object(o.c)(e,function(t){var e,n=t.skin;Object.defineProperty(t,"skin",{configurable:!0,enumerable:!0,get:function(){return e},set:function(t){if(t!==e){var n=this.bridge;this.bridge=u.a.getBridgeBySkin(t),e=this.bridge?this.bridge===n&&e?this.bridge.replaceSkin(this,e,t):this.bridge.wrapSkin(this,t):t}}}),n&&(t.skin=n)});var n=Object(o.e)(e);return Object(l.d)(t,n),n}}n.d(e,"e",function(){return R}),n.d(e,"f",function(){return I}),n.d(e,"d",function(){return L}),n.d(e,"c",function(){return x}),n.d(e,"b",function(){return N}),n.d(e,"a",function(){return B});var j=new a.a;function T(t){return t.delegateMediator instanceof Function&&t.undelegateMediator instanceof Function}function I(t,e,n){var r,a,u;if(this!==i.decorateThis)return e||n?t instanceof Function?(a=t,u=e):(r=t,a=e,u=n):t instanceof Function&&null!=Object(l.c)(t)?a=t:u=t,f;function f(t,e){T(t)&&(Object(o.c)(t.constructor,function(n){var i,f,h=r,d=Reflect.getMetadata("design:type",t,e);T(d.prototype)&&(i=d);var _=n[e];if(Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){return i?f:h},set:function(t){var e=this;if(t instanceof l.a?(f&&this.undelegateMediator(f),(f=t)&&h&&!f.skin&&(f.skin=h)):t?(h=t,f&&(f.skin&&f.status<p.a.OPENED?(Object(s.a)(f.bridge,t,f.skin),f.bridge.syncSkin(t,f.skin)):f.skin=t)):(h=t,f&&(f.skin=t),f=t),f&&(this.delegateMediator(f),f.skin&&f.status===p.a.UNOPEN)){var n=function(){return{$this:e,$data:e.viewModel,$bridge:e.bridge,$currentTarget:f,$target:f}};if(this.status===p.a.OPENED){var r=u?Object(c.c)(u,this.viewModel,this.viewModel,this.data,n()):this.data;r||(r=this.data),f.open(r)}else this.status<p.a.OPENED&&u&&Object(o.b)(f,"open",function(){var t=Object(c.c)(u,e.viewModel,e.viewModel,e.data,n());if(t)return[t]})}}}),_)n[e]=_;else if(void 0===_){var g=i||a;if(!g)throw new Error("必须在类型声明或装饰器中至少一处提供Mediator的类型");n[e]=_=new g(h)}var v=j.get(f);if(v){for(var y=0,b=v;y<b.length;y++){(0,b[y])(f)}j.delete(f)}}),Object(o.d)(t.constructor,function(t){t[e]&&(t[e]=void 0)}))}f(t,e)}function L(t,e){return function(n,r){_(n,function(n){var i;"string"==typeof t?(i={})[t]=e:i=t,g(i,n,n[r],function(t,e,n,r){y(t,e,O,n,r)})})}}function x(t,e,n){return function(r,i){_(r,function(r){var o=r[i];if("string"==typeof t)if(n){var a={};a[t]="",g(a,r,o,function(t,r,i,o){y(t,r,k,e,n)},!0)}else{var s={};s[t]=e,g(s,r,o,function(t,e,n,r){y(t,e,k,n,r)})}else g(t,r,o,function(t,e,n,r){y(t,e,k,n,r)})})}}function N(t,e){return function(n,r){_(n,function(n){var i=n[r];if("string"==typeof t||t instanceof Function)if(e){var o={};o[t]=e,g(o,n,i,function(t,e,n,r){y(t,e,D,r)},!0)}else g({r:13},n,i,function(e,n,r,i){y(e,n,D,t)});else g(t,n,i,function(t,e,n,r){y(t,e,D,r)},!0)})}}function B(t,e,n,r){var i,o,a,s,c;return"string"==typeof t&&("string"===e||e instanceof Array)?(o=t,a=e,s=n,c=r):"string"==typeof t||t instanceof Array?(a=t,s=e,c=n):i=t,function(t,e){var n,r=Reflect.getMetadata("design:type",t,e);T(r.prototype)&&(n=r),_(t,function(t){var r=t[e];i?g(i,t,r,function(t,r,i,o,a,u){y(t,r,S,e,o,s,n,c),r.__stop_left_handlers__=a?a.splice(u+1,a.length-u-1):[]},!0):o?((i={})[o]=a,g(i,t,r,function(t,r,i,o,a,u){y(t,r,S,e,o,s,n,c),r.__stop_left_handlers__=a?a.splice(u+1,a.length-u-1):[]},!0)):g({r:13},t,r,function(t,r,i,o,u,l){y(t,r,S,e,a,s,n,c),r.__stop_left_handlers__=u?u.splice(l+1,u.length-l-1):[]})})}}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var r=n(0),i=n(1),o=n(2),a=n(4),s=n(7),c=function(){function t(){this._entityDict={},this._loadingMaskDict={},this._isShowingMask=!1,this._modalMaskDict=new a.a}return t.prototype.getLoadingMaskCount=function(){var t=0;for(var e in this._loadingMaskDict){var n=this._loadingMaskDict[e];n>0&&(t+=n)}return t},t.prototype.plusLoadingMaskCount=function(t){var e=this._loadingMaskDict[t]||0;return e<0&&(e=0),this._loadingMaskDict[t]=++e,e},t.prototype.minusLoadingMaskCount=function(t){var e=this._loadingMaskDict[t]||0;return--e<0&&(e=0),this._loadingMaskDict[t]=e,0==e&&delete this._loadingMaskDict[t],e},t.prototype.registerMask=function(t,e){this._entityDict[t]=e},t.prototype.showMask=function(t){if(!this._isShowingMask){this._isShowingMask=!0;for(var e=0,n=s.a.bridges;e<n.length;e++){var r=n[e],i=this._entityDict[r.type];null!=i&&(i.showMask(t),i.maskData.onShowMask&&i.maskData.onShowMask())}}},t.prototype.hideMask=function(){if(this._isShowingMask){this._isShowingMask=!1;for(var t=0,e=s.a.bridges;t<e.length;t++){var n=e[t],r=this._entityDict[n.type];null!=r&&(r.maskData.onHideMask&&r.maskData.onHideMask(),r.hideMask())}}},t.prototype.isShowingMask=function(){return this._isShowingMask},t.prototype.showLoading=function(t,e){if(void 0===e&&(e=null),0==this.getLoadingMaskCount())for(var n=0,r=s.a.bridges;n<r.length;n++){var i=r[n],o=this._entityDict[i.type];null!=o&&(o.showLoading(t),o.maskData.onShowLoading&&o.maskData.onShowLoading(o.loadingSkin))}this.plusLoadingMaskCount(e)},t.prototype.hideLoading=function(t){if(void 0===t&&(t=null),this.minusLoadingMaskCount(t),0==this.getLoadingMaskCount())for(var e=0,n=s.a.bridges;e<n.length;e++){var r=n[e],i=this._entityDict[r.type];null!=i&&(i.maskData.onHideLoading&&i.maskData.onHideLoading(i.loadingSkin),i.hideLoading())}},t.prototype.isShowingLoading=function(){return this.getLoadingMaskCount()>0},t.prototype.showModalMask=function(t,e){if(!this.isShowingModalMask(t)){var n=s.a.getBridgeBySkin(t.skin);if(n){var r=this._entityDict[n.type];null!=r&&(this._modalMaskDict.set(t,t),r.showModalMask(t,e),r.maskData.onShowModalMask&&r.maskData.onShowModalMask(t))}}},t.prototype.hideModalMask=function(t){if(this.isShowingModalMask(t)){var e=s.a.getBridgeBySkin(t.skin);if(e){var n=this._entityDict[e.type];null!=n&&(this._modalMaskDict.delete(t),n.maskData.onHideModalMask&&n.maskData.onHideModalMask(t),n.hideModalMask(t))}}},t.prototype.isShowingModalMask=function(t){return null!=this._modalMaskDict.get(t)},t=r.b([o.a],t)}(),u=i.a.getInject(c)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(4),s=n(34),c=n(6),u=n(23),l=n(35),p=function(){function t(t){this._watcherDict={},this._mediator=t}return Object.defineProperty(t.prototype,"mediator",{get:function(){return this._mediator},enumerable:!0,configurable:!0}),t.prototype.createWatcher=function(t,e,n,r,i){for(var o=[],a=5;a<arguments.length;a++)o[a-5]=arguments[a];var s=c.e.apply(void 0,[t,n].concat(o)),u=this._watcherDict[s];return u||(this._watcherDict[s]=u=new(l.a.bind.apply(l.a,[void 0,this,t,e,n,r,i].concat(o)))),u},t.prototype.dispose=function(){for(var t in this._watcherDict){this._watcherDict[t].dispose(),delete this._watcherDict[t]}},t}(),f=n(19);n.d(e,"a",function(){return d});var h=function(){function t(){this._bindDict=new a.a,this._regExp=/^\s*(\w+)\s+((in)|(of))\s+(.+?)\s*$/}return t.prototype.getBindData=function(t){return this._bindDict.get(t)},t.prototype.bind=function(t){var e=this._bindDict.get(t);e||this._bindDict.set(t,e={bind:new p(t),callbacks:[]});for(var n=0,r=e.callbacks;n<r.length;n++){(0,r[n])()}return e.bind},t.prototype.unbind=function(t){var e=this._bindDict.get(t);return e&&(e.bind.dispose(),this._bindDict.delete(t)),e&&e.bind},t.prototype.addBindHandler=function(t,e){var n=function(){t.viewModel&&e()},r=this._bindDict.get(t);r.callbacks.indexOf(n)<0&&r.callbacks.push(n),n()},t.prototype.getNearestAncestor=function(t,e,n){return!e||e[n]?e:this.getNearestAncestor(t,t.getParent(e),n)},t.prototype.bindValue=function(t,e,n,r,i,o){var a,s=this._bindDict.get(t);this.addBindHandler(t,function(){var c;a&&a.dispose(),a=(c=s.bind).createWatcher.apply(c,[e,n,o,function(t){e[i]=t},t.viewModel].concat(r,[t.viewModel]))})},t.prototype.bindExp=function(t,e,n,r,i){var o,a=this._bindDict.get(t);this.addBindHandler(t,function(){var s;o&&o.dispose(),o=(s=a.bind).createWatcher.apply(s,[e,n,i,function(t){},t.viewModel].concat(r,[t.viewModel]))})},t.prototype.bindFunc=function(t,e,n,r,i){for(var o=this,a=[],s=5;s<arguments.length;s++)a[s-5]=arguments[s];var c=[],u=this._bindDict.get(t);this.addBindHandler(t,function(){var s;if(a.length>0){var l=Date.now()*Math.random()+"_undefined",p=Date.now()*Math.random()+"_null";a=a.map(function(t){return void 0===t?"'"+l+"'":null===t?"'"+p+"'":t});for(var f={},h=[],d=!1,_=function(t,n){if(n===l?n=void 0:n==p&&(n=null),h[t]=n,!d){for(var r=0,o=h;r<o.length;r++){if(o[r]===f)return}d=!0}e[i].apply(e,h)},g=0,v=c.length;g<v;g++)c.shift().dispose();for(g=0,v=a.length;g<v;g++)h.push(f);for(g=0,v=a.length;g<v;g++){var y=(s=u.bind).createWatcher.apply(s,[e,n,a[g],_.bind(o,g),t.viewModel].concat(r,[t.viewModel]));c.push(y)}}else n[i]()})},t.prototype.bindOn=function(t,e,n,r,i,o){var a=this;this.addBindHandler(t,function(){var s={$this:t,$data:t.viewModel,$bridge:t.bridge,$currentTarget:e,$target:n},u=Object(c.e)(e,i,o),l=e[u];if(l&&(t.bridge.unmapListener(e,i,l,t.viewModel),l=null),"string"==typeof o&&(l=t.viewModel[o]),!(l instanceof Function)){var p=Object(f.b)(o,3+r.length);l=function(e){p.call.apply(p,[this,s].concat(r,[t.viewModel,{$event:e}]))}}t.bridge.mapListener(e,i,l,t.viewModel),e[u]=l;var h=(a.getNearestAncestor(t.bridge,n,"__bind_sub_events__")||n).__bind_sub_events__;h&&h.push({target:e,type:i,handler:l,thisArg:t.viewModel})})},t.prototype.bindIf=function(t,e,n,r,i,o){var a,c=this._bindDict.get(t),u=t.bridge.createEmptyDisplay();this.addBindHandler(t,function(){var l;a&&a.dispose(),a=(l=c.bind).createWatcher.apply(l,[e,n,i,function(n){n?Object(s.a)(t.bridge,u,e):Object(s.a)(t.bridge,e,u),o&&o(n)},t.viewModel].concat(r,[t.viewModel]))})},t.prototype.bindFor=function(t,e,n,r,i,o,a,s,u,l){var p,h=this,d=this._bindDict.get(t),_=[];this.addBindHandler(t,function(){var g,v,y;if("string"==typeof o){var b=h._regExp.exec(o);if(!b)return;v=[b[1],b[2],b[5]]}else v=o;s&&(y=new s(n),t.delegateMediator(y),t[i]=y);var m=t.bridge.wrapBindFor(e,function(i,o,s){var p={$key:i,$value:o,$parent:r[0]||t.viewModel};p[v[0]]="in"==v[1]?i:o;var h=r.concat();h.unshift(p);var d=s.__bind_sub_events__;for(var g in d){var b=d.pop();t.bridge.unmapListener(b.target,b.type,b.handler,b.thisArg)}if(d||(s.__bind_sub_events__=[]),a){var m=new a(s);m.skin&&m.bridge===t.bridge&&(s=m.skin),(y||t).delegateMediator(m);var O,w={$this:t,$data:t.viewModel,$bridge:t.bridge,$currentTarget:e,$target:n};O=u?f.c.apply(void 0,[u,t.viewModel].concat(h.concat().reverse(),[t.viewModel,w])):c.b.apply(void 0,[{},w,t.viewModel].concat(h)),m.open(O),_.push(m)}l&&l(o,s,h)});p&&p.dispose(),p=(g=d.bind).createWatcher.apply(g,[e,n,v[2],function(n){if("number"==typeof n){for(var r=[],i=0;i<n;i++)r.push(i);n=r}i=0;for(var o=_.length;i<o;i++){var a=_.shift();t.undelegateMediator(a),a.dispose()}t.bridge.valuateBindFor(e,n,m)},t.viewModel].concat(r,[t.viewModel]))})},t.prototype.bindMessage=function(t,e,n,r,o,a,s,c){c||(c=i.a.observable);var u=function(){for(var i=[],l=0;l<arguments.length;l++)i[l]=arguments[l];if(t.disposed)c.unlisten(o,u);else{var p;p=1==i.length&&"object"==typeof i[0]&&i[0].type?i[0]:{$arguments:i};var h={$this:t,$data:t.viewModel,$bridge:t.bridge,$currentTarget:e,$target:n};e[a]=f.c.apply(void 0,[s,t.viewModel,p].concat(r,[t.viewModel,h]))}};c.listen(o,u)},t.prototype.bindResponse=function(t,e,n,r,o,a,s,c){c||(c=i.a.observable);var l=function(i){if(t.disposed)u.a.unlistenResponse(o,l,null,null,c);else{var p={$this:t,$data:t.viewModel,$bridge:t.bridge,$currentTarget:e,$target:n};e[a]=f.c.apply(void 0,[s,t.viewModel,i].concat(r,[t.viewModel,p]))}};if(u.a.listenResponse(o,l,null,null,c),t.dependModuleInstance)for(var p=0,h=t.dependModuleInstance.responses;p<h.length;p++){var d=h[p];l(d)}},t=r.b([o.a],t)}(),d=i.a.getInject(h)},function(t,e,n){"use strict";var r,i=n(0),o=n(1),a=n(2),s=new(function(){function t(){}return t.prototype.pop=function(t,e,n){setTimeout(e,0)},t.prototype.drop=function(t,e,n){setTimeout(e,0)},t}()),c=function(){function t(){}return t.PANEL_BEFORE_POP="panelBeforePop",t.PANEL_AFTER_POP="panelAfterPop",t.PANEL_BEFORE_DROP="panelBeforeDrop",t.PANEL_AFTER_DROP="panelAfterDrop",t}();!function(t){t[t.normal=0]="normal",t[t.important=1]="important"}(r||(r={}));var u=n(7),l=n(11),p=n(4);n.d(e,"a",function(){return h});var f=function(){function t(){this._panels=[],this._priorities=new p.a,this._modalDict=new p.a,this._promptDict={}}var e;return e=t,t.prototype.getOpened=function(t){return t?this._panels.filter(function(e){return e.constructor==t}):this._panels.concat()},t.prototype.isOpened=function(t){return this._panels.indexOf(t)>=0},t.prototype.updateModalMask=function(t){l.a.hideModalMask(t);for(var e=this._panels.length-1;e>=0;e--)if(t=this._panels[e],this._modalDict.get(t)){l.a.isShowingModalMask(t)&&l.a.hideModalMask(t),l.a.showModalMask(t,t.maskAlpha);break}},t.prototype.pop=function(t,e,n,r){var i=this;if(void 0===n&&(n=!0),this._panels.indexOf(t)<0){this._panels.push(t),t.bridge.htmlWrapper.style.display="";var a=t.policy||t.bridge.defaultPanelPolicy||s;t.onBeforePop(e,n,r),o.a.dispatch(c.PANEL_BEFORE_POP,t,n,r),a.prepare&&a.prepare(t),t.bridge.addChild(t.bridge.panelLayer,t.skin),this._panels.sort(function(t,e){return(i._priorities.get(t)||0)-(i._priorities.get(e)||0)});for(var u=0,l=this._panels;u<l.length;u++){var p=l[u];p.bridge.addChild(p.bridge.panelLayer,p.skin)}a.pop(t,function(){t.onAfterPop(e,n,r),o.a.dispatch(c.PANEL_AFTER_POP,t,n,r)},r),this._modalDict.set(t,n),this.updateModalMask(t)}return t},t.prototype.drop=function(t,e,n){var r=this._panels.indexOf(t);if(r>=0){this._panels.splice(r,1);var i=t.policy||t.bridge.defaultPanelPolicy||s;t.onBeforeDrop(e,n),o.a.dispatch(c.PANEL_BEFORE_DROP,t,n),i.drop(t,function(){t.onAfterDrop(e,n),o.a.dispatch(c.PANEL_AFTER_DROP,t,n);var r=t.bridge,i=r.getParent(t.skin);i&&r.removeChild(i,t.skin),t.dispose()},n),this._priorities.delete(t),this._modalDict.delete(t),this.updateModalMask(t)}return t},t.prototype.registerPrompt=function(t,e){this._promptDict[t]=e},t.prototype.unregisterPrompt=function(t){delete this._promptDict[t]},t.prototype.prompt=function(t){for(var n,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];n="string"==typeof t?{msg:t,handlers:i}:t;var a=u.a.currentBridge,s=a&&a.type,c=this._promptDict[s];if(null!=c){for(var l in n.handlers){var p=n.handlers[l];null==p.text&&(p.text=p.data),null==p.buttonType&&(p.buttonType=r.normal)}var f=new c;return this._priorities.set(f,e.PRIORITY_PROMPT),f.open(n),f.update(n),f}alert(n.msg)},t.prototype.alert=function(t,e){var n;return(n="string"==typeof t?{msg:t}:t).handlers=[{data:"确定",handler:e,buttonType:r.important}],this.prompt(n)},t.prototype.confirm=function(t,e,n){var i;return(i="string"==typeof t?{msg:t}:t).handlers=[{data:"取消",handler:n,buttonType:r.normal},{data:"确定",handler:e,buttonType:r.important}],this.prompt(i)},t.PRIORITY_NORMAL=0,t.PRIORITY_PROMPT=1,t=e=i.b([a.a],t)}(),h=o.a.getInject(f)},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),i=n(1),o=n(2),a=n(5),s=function(){function t(){this._env="dev",this._hostsDict={},this._cdnsDict={},this._curCDNIndex=0}return Object.defineProperty(t.prototype,"env",{get:function(){return this._env},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hostsDict",{get:function(){return this._hostsDict},enumerable:!0,configurable:!0}),t.prototype.getHost=function(t){void 0===t&&(t=0);var e=this._hostsDict[this._env];return e&&e[t]||Object(a.a)()},Object.defineProperty(t.prototype,"cdnsDict",{get:function(){return this._cdnsDict},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"curCDNHost",{get:function(){var t=this._cdnsDict[this._env];return t&&t[this._curCDNIndex]||Object(a.a)()},enumerable:!0,configurable:!0}),t.prototype.nextCDN=function(){var t=this._cdnsDict[this._env];return!t||(this._curCDNIndex++,this._curCDNIndex>=t.length&&(this._curCDNIndex=0,!0))},t.prototype.initialize=function(t,e,n){this._env=t||"dev",this._hostsDict=e||{},this._cdnsDict=n||{},this._curCDNIndex=0},t.prototype.toHostURL=function(t,e){return void 0===e&&(e=0),t=Object(a.g)(t,this.getHost(e))},t.prototype.toCDNHostURL=function(t,e,n){if(void 0===e&&(e=!1),void 0===n&&(n=!0),n){var r=window.location.pathname.lastIndexOf("/"),i=window.location.pathname.substring(0,r+1);return Object(a.g)(t,this.curCDNHost+"/"+i,e)}return Object(a.g)(t,this.curCDNHost,e)},t=r.b([o.a],t)}(),c=i.a.getInject(s)},function(t,e,n){"use strict";var r=function(){function t(){}return t.SCENE_BEFORE_CHANGE="sceneBeforeChange",t.SCENE_AFTER_CHANGE="sceneAfterChange",t.SCENE_STACK_CHANGE="sceneStackChange",t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n(0),i=n(1),o=n(2),a=n(5),s=function(){function t(){this._hashDict={}}return t.prototype.initialize=function(t,e,n){var r=this;if(window.__Olympus_Version_hashDict__)this._hashDict=window.__Olympus_Version_hashDict__,t();else{var i,o=null;window.XDomainRequest&&navigator.userAgent.indexOf("MSIE 10.")<0?o=new window.XDomainRequest:window.XMLHttpRequest?o=new XMLHttpRequest:window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLHTTP")),o.onload=function(e){if(void 0===o.status)""===o.responseText?o.onerror(new ErrorEvent("RequestError",{filename:i})):(s(e),t());else switch(Math.floor(.01*o.status)){case 2:case 3:s(e),t();break;case 4:case 5:o.onerror(new ErrorEvent("RequestError",{filename:i,message:o.status+" "+o.statusText}))}},n?(o.onerror=function(){var r=Object(a.f)("version.cfg?v="+n,e);o.abort(),o.onerror=t,o.open("GET",r,!0),o.send()},i=Object(a.f)("version.cfg",e),i=this.joinVersion(i,n)):(o.onerror=t,i=Object(a.f)("version.cfg?v="+Date.now(),e)),o.open("GET",i,!0),o.send()}function s(t){var e=t.target.responseText.split("\n");for(var n in e){var i=e[n].split("  ");if(2==i.length){var o=i[1].substr(2),a=i[0];r._hashDict[o]=a}}window.__Olympus_Version_hashDict__=r._hashDict}},t.prototype.getHash=function(t){t=Object(a.d)(t);var e=null;for(var n in this._hashDict)if(t.indexOf(n)>=0){e=this._hashDict[n];break}return e},t.prototype.wrapHashUrl=function(t){var e=this.getHash(t);return null!=e&&(t=this.joinVersion(t,e)),t},t.prototype.joinVersion=function(t,e){if(null==e)return t;e=e.replace(/[^0-9a-z]+/gi,"");var n=/(([a-zA-Z]+:\/+[^\/\?#]+\/)?[^\?#]+)\.([^\?]+)(\?.+)?/.exec(t);return null!=n&&(t=n[1]+"-r_"+e+"."+n[3]+(n[4]||"")),t},t.prototype.removeVersion=function(t){return t=t.replace(/\-r_[a-z0-9]+\./gi,".")},t=r.b([o.a],t)}(),c=i.a.getInject(s)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=new(function(){function t(){}return t.prototype.prepareSwitch=function(t,e){},t.prototype.switch=function(t,e,n){setTimeout(n,0)},t}()),s=n(15),c={};function u(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=c[t];null==o&&(c[t]=o={operating:!1,datas:[]}),o.operating?o.datas.push({fn:e,thisArg:n,args:r}):(o.operating=!0,e.apply(n,r))}function l(t){var e=c[t];if(null==e||e.datas.length<=0)e.operating=!1;else{var n=e.datas.shift();n.fn.apply(n.thisArg,n.args)}}n.d(e,"a",function(){return d});var p,f="SceneManager_sync";!function(t){t[t.Switch=0]="Switch",t[t.Push=1]="Push",t[t.Pop=2]="Pop"}(p||(p={}));var h=function(){function t(){this._sceneStack=[]}return Object.defineProperty(t.prototype,"currentScene",{get:function(){return this._sceneStack[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeCount",{get:function(){return this._sceneStack.length},enumerable:!0,configurable:!0}),t.prototype.isOpened=function(t){return this._sceneStack.indexOf(t)>=0},t.prototype.switch=function(t,e){var n=this;if(null!=t)return 0==this.activeCount?this.push(t,e):(u(f,this.doChange,this,this.currentScene,t,e,t.policy||t.bridge.defaultScenePolicy||a,p.Switch,function(){var e=n._sceneStack[0];n._sceneStack[0]=t,i.a.dispatch(s.a.SCENE_STACK_CHANGE),e&&e.dispose()}),t)},t.prototype.push=function(t,e){var n=this;return null==t?t:(u(f,this.doChange,this,this.currentScene,t,e,t.policy||t.bridge.defaultScenePolicy||a,p.Push,function(){n._sceneStack.unshift(t),i.a.dispatch(s.a.SCENE_STACK_CHANGE)}),t)},t.prototype.pop=function(t,e){return null==t?t:(u(f,this.doPop,this,t,e),t)},t.prototype.doPop=function(t,e){var n=this;if(this.activeCount<=1)return console.log("场景栈中的场景数量不足，无法执行pop操作"),void l(f);var r=this._sceneStack[1],o=t.policy||t.bridge.defaultScenePolicy||a;0!=this._sceneStack.indexOf(t)&&(r=null,o=a),this.doChange(t,r,e,o,p.Pop,function(){n._sceneStack.splice(n._sceneStack.indexOf(t),1),i.a.dispatch(s.a.SCENE_STACK_CHANGE)},function(){t.dispose()})},t.prototype.doChange=function(t,e,n,r,o,c,u){var h,d;switch(t&&e||(r=a),e&&(e.bridge.htmlWrapper.style.display=""),t&&e&&e.bridge.type!=t.bridge.type&&(t.bridge.htmlWrapper.style.display="none",r=a),c&&c(),o){case p.Switch:h=r.prepareSwitch,d=r.switch;break;case p.Push:h=r.preparePush||r.prepareSwitch,d=r.push||r.switch;break;case p.Pop:h=r.preparePop||r.prepareSwitch,d=r.pop||r.switch}e&&t&&t.onBeforeOut(e,n),e&&e.onBeforeIn(t,n),e&&i.a.dispatch(s.a.SCENE_BEFORE_CHANGE,e,t),h&&h.call(r,t,e),e&&e.bridge.addChild(e.bridge.sceneLayer,e.skin),d.call(r,t,e,function(){e&&t&&t.bridge.removeChild(t.bridge.sceneLayer,t.skin),e&&t&&t.onAfterOut(e,n),e&&e.onAfterIn(t,n),e&&i.a.dispatch(s.a.SCENE_AFTER_CHANGE,e,t),u&&u(),l(f)})},t=r.b([o.a],t)}(),d=i.a.getInject(h)},function(t,e,n){"use strict";var r;n.d(e,"a",function(){return r}),function(t){t[t.Stop=0]="Stop",t[t.BeforeOpen=1]="BeforeOpen",t[t.AfterOpen=2]="AfterOpen"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c});var r=n(6);function i(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=r.b.apply(void 0,[{}].concat(e.reverse()));return t.call(this,i)}}function o(t,e){if("string"==typeof t){for(var n=[],r=t,o=0;o<e;o++)n.push("s"+o),r="with(s"+o+"||{}){"+r+"}";return Function(n.join(","),r)}return i(t)}function a(t,e){if(void 0===e&&(e=0),"string"==typeof t){var n;try{n=o(t,e)}catch(i){var r=t.indexOf('"')<0?'"':"'",a=/([^\\]?)`/g;t=t.replace(a,"$1"+r),a=/\$\{(.*?)\}/g,n=o(t=t.replace(a,r+"+($1)+"+r),e)}return n}return i(t)}function s(t,e){return void 0===e&&(e=0),"string"==typeof t?a("return "+t,e):i(t)}function c(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return s(t,n.length).apply(e,n)}},function(t,e,n){"use strict";var r=function(){function t(){}return t.MODULE_CHANGE="moduleChange",t.MODULE_CHANGE_FAILED="moduleChangeFailed",t.MODULE_LOAD_ASSETS_ERROR="moduleLoadAssetsError",t}();e.a=r},function(t,e,n){"use strict";var r=function(){function t(){}return t.MEDIATOR_OPENED="mediatorOpened",t.MEDIATOR_CLOSED="mediatorClosed",t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return p});var r=n(0),i=n(1),o=n(2),a=n(3),s=n(18),c=n(9),u=n(20),l=function(){function t(){this._moduleStack=[],this._openCache=[],this._opening=null,this._busy=!1}return Object.defineProperty(t.prototype,"currentModule",{get:function(){var t=this.getCurrent();return t&&t[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentModuleInstance",{get:function(){var t=this.getCurrent();return t&&t[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeCount",{get:function(){return this._moduleStack.length},enumerable:!0,configurable:!0}),t.prototype.getIndex=function(t){for(var e=0,n=this._moduleStack.length;e<n;e++)if(this._moduleStack[e][0]==t)return e;return-1},t.prototype.getModule=function(t){var e=this._moduleStack[t];return e&&e[0]},t.prototype.getAfter=function(t){for(var e=[],n=0,r=this._moduleStack;n<r.length;n++){var i=r[n];if(i[0]==t)return e;e.push(i)}return null},t.prototype.getCurrent=function(){for(var t,e=0,n=this._moduleStack;e<n.length;e++){var r=n[e];if(r[0]!==this._opening){t=r;break}}return t},t.prototype.isOpened=function(t){return this._moduleStack.filter(function(e){return e[0]==t}).length>0},t.prototype.activateModule=function(t,e,n){t&&t.activate(e,n)},t.prototype.deactivateModule=function(t,e,n){t&&t.deactivate(e,n)},t.prototype.open=function(t,e,n){var r=this;void 0===n&&(n=!1);var o="string"==typeof t?Object(c.b)(t):t;if(o)if(this._busy)this._openCache.push([o,e,n]);else{this._busy=!0;var l=Object(a.a)(o instanceof Function?o:o.constructor),f=this.getAfter(l);if(f)if(f.length>0){for(var h=1,d=f.length;h<d;h++)this.close(f[h][0],e);this.close(f[0][0],e),this.onFinishOpen()}else this.onFinishOpen();else{this._opening=o;var _=o instanceof Function?new l:o;_.data=e;var g=this.getCurrent(),v=g&&g[1],y=[l,_,null];this._moduleStack.unshift(y),_.moduleOpenHandler=function(t,o){switch(t){case s.a.Stop:if(r._moduleStack.length>1)r._moduleStack.shift()[1].dispose();i.a.dispatch(u.a.MODULE_CHANGE_FAILED,l,g&&g[0],o),r.onFinishOpen();break;case s.a.BeforeOpen:r._opening=null,y[2]=_.hasOwnProperty("close")?_.close:null,_.close=function(t){p.close(_,t)};break;case s.a.AfterOpen:r.deactivateModule(v,_,e),r.activateModule(_,v,e),n&&r.close(g&&g[0],e),i.a.dispatch(u.a.MODULE_CHANGE,l,v),r.onFinishOpen()}},_.open(e)}}},t.prototype.onFinishOpen=function(){this._opening=null,this._busy=!1,this._openCache.length>0&&this.open.apply(this,this._openCache.shift())},t.prototype.close=function(t,e){var n="string"==typeof t?Object(c.b)(t):t;if(n&&!(this.activeCount<=1)){var r=Object(a.a)(n instanceof Function?n:n.constructor),o=this.getIndex(r);if(!(o<0)){var s=this._moduleStack[o],l=s[1],p=s[2];if(p?l.close=p:delete l.close,0==o){this._moduleStack.shift();var f=this._moduleStack[0],h=f&&f[1];this.deactivateModule(l,h,e),l.close(e),this.activateModule(h,l,e),h.wakeUp(l,e),i.a.dispatch(u.a.MODULE_CHANGE,f&&f[0],r)}else this._moduleStack.splice(o,1),l.close(e)}}},t=r.b([o.a],t)}(),p=i.a.getInject(l)},function(t,e,n){"use strict";var r=n(0),i=n(1),o=n(2),a=n(36),s=n(6),c=n(11),u=n(26),l=function(){function t(){this.__userData={},this.__useMask=!0,this.__observables=[],Object.defineProperties(this,{__userData:{configurable:!0,enumerable:!1,writable:!0,value:this.__userData},__observables:{configurable:!0,enumerable:!1,writable:!0,value:this.__observables}})}return Object.defineProperty(t.prototype,"__observable",{get:function(){return this.__observables[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__oriObservable",{get:function(){return this.__observables[this.__observables.length-1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__type",{get:function(){return this.__params.type},enumerable:!0,configurable:!0}),t.prototype.redispatch=function(){this.__oriObservable.dispatch(this)},t}(),p={};n.d(e,"a",function(){return h});var f=function(){function t(){this._responseDict={},this._responseListeners={},i.a.listen(a.a.MESSAGE_DISPATCHED,this.onMsgDispatched,i.a)}return t.prototype.onMsgDispatched=function(t){var e=this.observable;t instanceof l&&(t.__useMask&&c.a.showLoading(null,"net"),Object(s.b)(t.__params.data,p),t.__policy.sendRequest(t),e.dispatch(u.a.NET_REQUEST,t))},t.prototype.registerResponse=function(t){this._responseDict[t.type]=t},t.prototype.listenResponse=function(t,e,n,r,o){void 0===r&&(r=!1),o||(o=i.a.observable);var a="string"==typeof t?t:t.type,s=this._responseListeners[a];s||(this._responseListeners[a]=s=[]);for(var c=0,u=s;c<u.length;c++){var l=u[c];if(e==l[0]&&n==l[1]&&r==l[2])return}s.push([e,n,r,o])},t.prototype.unlistenResponse=function(t,e,n,r,o){void 0===r&&(r=!1),o||(o=i.a.observable);var a="string"==typeof t?t:t.type,s=this._responseListeners[a];if(s)for(var c=0,u=s.length;c<u;c++){var l=s[c];if(e==l[0]&&n==l[1]&&r==l[2]&&o==l[3]){s.splice(c,1);break}}},t.prototype.sendMultiRequests=function(t,e,n,r){var o=this,a=[],s=0;r||(r=i.a.observable);for(var c=0,u=t||[];c<u.length;c++){var l=u[c],p=l.__params.response;p&&(this.listenResponse(p,f,l),a.push(p),s++),r.dispatch(l)}function f(t){if(t instanceof Error)e&&e.call(n,t);else for(var r in a){var i=a[r];if(i==t.constructor&&this===t.__params.request){o.unlistenResponse(i,f,this),a[r]=t,s--,h();break}}}function h(){s<=0&&e&&e.call(n,a)}h()},t.prototype.__onResponse=function(t,e,n){n&&n.__useMask&&c.a.hideLoading("net");var r=this._responseDict[t];if(r){var o=new r;o.parse(e);var a=i.a.observable;if(n){o.__params.request=n;for(var s=n.__observables.length-1;s>=0;s--){var l=n.__observables[s];if(!l||l.disposed)break;a=l}}a.dispatch(u.a.NET_RESPONSE,o,n),this.recurseResponse(t,o,n,a)}else console.warn("没有找到返回结构体定义："+t)},t.prototype.__onError=function(t,e,n){n&&n.__useMask&&c.a.hideLoading("net");var r=n&&n.__oriObservable;r.dispatch(u.a.NET_ERROR,e,n),this.recurseResponse(t,e,n,r)},t.prototype.recurseResponse=function(t,e,n,r){r.parent&&this.recurseResponse(t,e,n,r.parent);var i=this._responseListeners[t];if(i)for(var o=0,a=i=i.concat();o<a.length;o++){var s=a[o];s[3]==r&&(s[0].call(s[1],e,n),s[2]&&this.unlistenResponse(t,s[0],s[1],s[2],s[3]))}},t=r.b([o.a,r.e("design:paramtypes",[])],t)}(),h=i.a.getInject(f)},function(t,e,n){"use strict";var r,i=n(0),o=n(1),a=n(2),s=n(31),c=n(7),u=n(27),l=n(14),p=function(){function t(){this._keepHash=!1,this._hash=window.location.hash,this._moduleDataDict={},this._moduleDatas=[];for(var t,e=/#([^\?&#]+)?(\?([^\?&=#]+=[^\?&=#]+)(&([^\?&=#]+=[^\?&=#]+))*)?/g;t=e.exec(this._hash);){var n={name:t[1],params:{},direct:!1},r=t[2];if(null!=r)for(var i=(r=r.substr(1)).split("&"),o=0,a=i.length;o<a;o++){var s=i[o];if(null!=s){var c=s.split("="),u=decodeURIComponent(c[0]),l=decodeURIComponent(c[1]);n.params[u]=l}}n.direct="true"==n.params.direct,delete n.params.direct,this._keepHash=this._keepHash||"true"==n.params.keepHash,delete n.params.keepHash,this._moduleDataDict[n.name]=n,this._moduleDatas.push(n)}if(!this._keepHash){var p=window.location.href,f=p.indexOf("#");f>=0&&window.location.replace(p.substr(0,f+1))}}return Object.defineProperty(t.prototype,"hash",{get:function(){return this._hash},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"moduleDatas",{get:function(){return this._moduleDatas},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstModuleParams",{get:function(){var t=this._moduleDatas[0];if(t)return t.name?void 0:t.params},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"keepHash",{get:function(){return this._keepHash},enumerable:!0,configurable:!0}),t.prototype.getParam=function(t,e){var n=e?this._moduleDataDict[e]:this._moduleDatas[0];return n&&n.params[t]},t=i.b([a.a,i.e("design:paramtypes",[])],t)}(),f=o.a.getInject(p),h=function(){function t(){}return t.INITIALIZED="initialized",t}(),d=n(22),_=n(20),g=n(16);!function(t){t[t.Uninit=0]="Uninit",t[t.ReadyToInit=1]="ReadyToInit",t[t.StartInit=2]="StartInit",t[t.VersionInited=3]="VersionInited",t[t.BridgesInited=4]="BridgesInited",t[t.Preload=5]="Preload",t[t.OpenFirstModule=6]="OpenFirstModule",t[t.Inited=7]="Inited"}(r||(r={}));var v=function(){function t(){this._initStep=r.Uninit}return Object.defineProperty(t.prototype,"initParams",{get:function(){return this._initParams},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initStep",{get:function(){return this._initStep},enumerable:!0,configurable:!0}),t.prototype.initialize=function(t){var e=this;function n(){function i(){e._initStep=r.VersionInited,t.onInitProgress&&t.onInitProgress(.2,e._initStep),o.a.listen(u.a.BRIDGE_ALL_INIT,e.onAllBridgesInit,e),c.a.registerBridge.apply(c.a,t.bridges)}e._initStep=r.StartInit,t.onInitProgress&&t.onInitProgress(.1,e._initStep),this==document&&document.removeEventListener("readystatechange",n),e._initParams=t,e._loadElement="string"==typeof t.loadElement?document.querySelector(t.loadElement):t.loadElement,t.onError&&e.listenError(t.onError),l.a.initialize(t.env,t.hostsDict,t.cdnsDict),!1!==t.hasVersion?g.a.initialize(i,t.version):i()}this._initStep=r.ReadyToInit,t.onInitProgress&&t.onInitProgress(0,this._initStep),"loading"==document.readyState?document.addEventListener("readystatechange",n):n()},t.prototype.listenError=function(t){t&&window.addEventListener("error",t)},t.prototype.onAllBridgesInit=function(){var t=this;if(this._initStep=r.BridgesInited,this._initParams.onInitProgress&&this._initParams.onInitProgress(.3,this._initStep),o.a.unlisten(u.a.BRIDGE_ALL_INIT,this.onAllBridgesInit,this),this._initParams.plugins)for(var e=0,n=this._initParams.plugins;e<n.length;e++){n[e].initPlugin()}s.a.configPath(this._initParams.pathDict);var i=this._initParams.preloads;if(i){var a=0,c=i.length;s.a.loadAssets(i,this.onPreloadOK.bind(this),null,function(e,n){var i=.3+.6*++a/c;i=.01*Math.round(100*i),t._initStep=r.Preload,t._initParams.onInitProgress&&t._initParams.onInitProgress(i,t._initStep,e,n)})}else this.onPreloadOK()},t.prototype.onPreloadOK=function(){for(var t in this._initStep=r.OpenFirstModule,this._initParams.onInitProgress&&this._initParams.onInitProgress(.9,this._initStep),o.a.dispatch(h.INITIALIZED),this._initParams.onInited&&this._initParams.onInited(),o.a.listen(_.a.MODULE_CHANGE,this.onModuleChange,this),d.a.open(this._initParams.firstModule,f.firstModuleParams),f.moduleDatas){var e=f.moduleDatas[t];e.name&&d.a.open(e.name,e.params,e.direct)}},t.prototype.onModuleChange=function(t){if(this._initStep=r.Inited,this._initParams.onInitProgress&&this._initParams.onInitProgress(1,this._initStep),o.a.unlisten(_.a.MODULE_CHANGE,this.onModuleChange,this),this._loadElement){var e=this._loadElement.parentElement;e&&e.removeChild(this._loadElement)}},t=i.b([a.a],t)}(),y=o.a.getInject(v);n.d(e,"a",function(){return o.a});var b=function(){function t(){}return t.startup=function(t){y.initialize(t)},t}();e.b=b},function(t,e,n){"use strict";n.r(e),n.d(e,"decorateThis",function(){return i});n(32);if(Array.prototype.hasOwnProperty("findIndex")){var r=Object.getOwnPropertyDescriptor(Array.prototype,"findIndex");r.enumerable&&(r.enumerable=!1,Object.defineProperty(Array.prototype,"findIndex",r))}try{new ErrorEvent("")}catch(t){window.ErrorEvent=function(t,e){if(e||(e={}),Event instanceof Function)return Event.call(this,t,e),this.initErrorEvent(t,e.bubbles,e.cancelable,e.message,e.filename,e.lineno),this.error=e.error,this;var n=document.createEvent("ErrorEvent");return n.initErrorEvent(t,e.bubbles,e.cancelable,e.message,e.filename,e.lineno),n},window.ErrorEvent.prototype.initErrorEvent=function(t,e,n,r,i,o){this.type=t,this.bubbles=e,this.cancelable=n,this.message=r,this.filename=i,this.lineno=o}}var i={};if(Reflect&&Reflect.decorate){var o=Reflect.decorate;Reflect.decorate=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[0][0];t[0][0]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.apply(i,t)};var r=o.apply(this,t);return t[0][0]=n,r}}},function(t,e,n){"use strict";var r=function(){function t(){}return t.NET_REQUEST="netRequest",t.NET_RESPONSE="netResponse",t.NET_ERROR="netError",t}();e.a=r},function(t,e,n){"use strict";var r=function(){function t(){}return t.BRIDGE_BEFORE_INIT="bridgeBeforeInit",t.BRIDGE_AFTER_INIT="bridgeAfterInit",t.BRIDGE_ALL_INIT="bridgeAllInit",t}();e.a=r},function(t,e,n){"use strict";var r=n(1),i=function(){function t(t){this.msg=t}return t.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];r.a.dispatch.apply(r.a,[t].concat(e))},t}();e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n(3),i=n(10);function o(t,e){return function(n){return n=Object(i.e)(t)(n),Object(r.c)(n,function(t){return t.skin=e}),n}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(4);function i(t){if(!t)return t;for(var e=new r.a,n=[],i=0,o=t.length;i<o;i++)e.get(t[i])||(e.set(t[i],!0),n.push(t[i]));return n}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r,i=n(0),o=n(2),a=n(1),s=n(37),c=n(5),u=n(16),l=n(14),p=n(30),f=function(){function t(){this._keyDict={},this._assetsDict={}}return t.prototype.configPath=function(t,e){if("string"==typeof t)this._keyDict[t]=e;else for(var n in t)this._keyDict[n]=t[n]},t.prototype.getAssets=function(t){var e=this._keyDict[t]||t,n=this._assetsDict[e];return n instanceof Array?void 0:n},t.prototype.loadAssets=function(t,e,n,r){var i=this;if(t)if(t instanceof Array){var o=(t=Object(p.a)(t)).length,a=[];if(o>0)for(var c=function(n,i){r&&r(n,i);var s=t.indexOf(n);a[s]=i,0==--o&&e&&e(a)},l=0,f=o;l<f;l++){var h=t[l];this.loadAssets(h,null,null,c)}else e&&e(a)}else{h=this._keyDict[t]||t;var d=this._assetsDict[h];d instanceof Array?d.push(e):d?(r&&r(t,d),e&&e(d)):(this._assetsDict[h]=d=[function(n){r&&r(t,n),e&&e(n)}],Object(s.a)({url:u.a.wrapHashUrl(h),useCDN:!0,responseType:n,onResponse:function(t){i._assetsDict[h]=t;for(var e=0,n=d;e<n.length;e++){(0,n[e])(t)}},onError:function(t){delete i._assetsDict[h];for(var e=0,n=d;e<n.length;e++){(0,n[e])(t)}}}))}else e&&e(d)},t.prototype.loadStyleFiles=function(t,e){if(t&&0!==t.length)for(var n=t.length,r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=l.a.toCDNHostURL(u.a.wrapHashUrl(a)),s.onload=c,s.onerror=p,document.body.appendChild(s)}else e();function c(){r||0!=--n||e()}function p(t){r||(r=!0,e(new Error("CSS加载失败")))}},t.prototype.loadJsFiles=function(t,e,n){if(void 0===n&&(n=!0),t&&0!==t.length){var i=(t=t.concat()).length,o=0,a=!1,s=[];for(var p in t){var f=t[p];"string"==typeof f&&(t[p]=f={url:f,mode:r.AUTO});var h=document.createElement("script");h.type="text/javascript",s.push(h),f.mode===r.JSONP||f.mode===r.AUTO&&!Object(c.b)(f.url)?(this.loadAssets(f.url,null,null,g),o++):(h.onload=v,h.onerror=y,h.src=l.a.toCDNHostURL(u.a.wrapHashUrl(f.url)))}var d=0;_()}else e();function _(){if(0===o)for(var t=d,e=s.length;t<e;){var r=s[t];if(document.body.appendChild(r),d=++t,n&&r.src)break}}function g(e,n){if(n instanceof Error)y();else{for(var r=-1,i=0,a=t.length;i<a;i++){if(t[i].url===e){r=i;break}}if(r>=0)s[r].innerHTML=n;o--,v()}}function v(){_(),a||0!=--i||e()}function y(){a||(a=!0,e(new Error("JS加载失败")))}},t=i.b([o.a],t)}();!function(t){t[t.AUTO=0]="AUTO",t[t.JSONP=1]="JSONP",t[t.TAG=2]="TAG"}(r||(r={}));var h=a.a.getInject(f)},function(t,e,n){(function(t,e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n;!function(n){!function(r){var i="object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),o=a(n);function a(t,e){return function(n,r){"function"!=typeof t[n]&&Object.defineProperty(t,n,{configurable:!0,writable:!0,value:r}),e&&e(n,r)}}void 0===i.Reflect?i.Reflect=n:o=a(i.Reflect,o),function(e){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,i=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",o=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,s={__proto__:[]}instanceof Array,c=!a&&!s,u={create:a?function(){return I(Object.create(null))}:s?function(){return I({__proto__:null})}:function(){return I({})},has:c?function(t,e){return n.call(t,e)}:function(t,e){return e in t},get:c?function(t,e){return n.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),p="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],n=function(){function t(t,e,n){this._index=0,this._keys=t,this._values=e,this._selector=n}return t.prototype["@@iterator"]=function(){return this},t.prototype[o]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var n=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var n=this._find(t,!0);return this._values[n]=e,this},e.prototype.delete=function(e){var n=this._find(e,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new n(this._keys,this._values,r)},e.prototype.values=function(){return new n(this._keys,this._values,i)},e.prototype.entries=function(){return new n(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[o]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function r(t,e){return t}function i(t,e){return e}function a(t,e){return[t,e]}}():Map,h=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new f}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[o]=function(){return this.keys()},t}():Set,d=new(p||"function"!=typeof WeakMap?function(){var t=16,e=u.create(),r=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&u.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?u.get(e,this._key):void 0},t.prototype.set=function(t,e){var n=o(t,!0);return n[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+s()}while(u.has(e,t));return e[t]=!0,t}function o(t,e){if(!n.call(t,r)){if(!e)return;Object.defineProperty(t,r,{value:u.create()})}return t[r]}function a(t,e){for(var n=0;n<e;++n)t[n]=255*Math.random()|0;return t}function s(){var e=function(t){if("function"==typeof Uint8Array)return"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):a(new Uint8Array(t),t);return a(new Array(t),t)}(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var n="",r=0;r<t;++r){var i=e[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}():WeakMap);function _(t,e,n){var r=d.get(t);if(O(r)){if(!n)return;r=new f,d.set(t,r)}var i=r.get(e);if(O(i)){if(!n)return;i=new f,r.set(e,i)}return i}function g(t,e,n){var r=_(e,n,!1);return!O(r)&&function(t){return!!t}(r.has(t))}function v(t,e,n){var r=_(e,n,!1);if(!O(r))return r.get(t)}function y(t,e,n,r){var i=_(n,r,!0);i.set(t,e)}function b(t,e){var n=[],r=_(t,e,!1);if(O(r))return n;for(var i=r.keys(),a=function(t){var e=M(t,o);if(!S(e))throw new TypeError;var n=e.call(t);if(!E(n))throw new TypeError;return n}(i),s=0;;){var c=R(a);if(!c)return n.length=s,n;var u=A(c);try{n[s]=u}catch(t){try{j(a)}finally{throw t}}s++}}function m(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function O(t){return void 0===t}function w(t){return null===t}function E(t){return"object"==typeof t?null!==t:"function"==typeof t}function k(t,e){switch(m(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var n=3===e?"string":5===e?"number":"default",r=M(t,i);if(void 0!==r){var o=r.call(t,n);if(E(o))throw new TypeError;return o}return function(t,e){if("string"===e){var n=t.toString;if(S(n)){var r=n.call(t);if(!E(r))return r}var i=t.valueOf;if(S(i)){var r=i.call(t);if(!E(r))return r}}else{var i=t.valueOf;if(S(i)){var r=i.call(t);if(!E(r))return r}var o=t.toString;if(S(o)){var r=o.call(t);if(!E(r))return r}}throw new TypeError}(t,"default"===n?"number":n)}function P(t){var e=k(t,3);return function(t){return"symbol"==typeof t}(e)?e:function(t){return""+t}(e)}function D(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function S(t){return"function"==typeof t}function C(t){return"function"==typeof t}function M(t,e){var n=t[e];if(void 0!==n&&null!==n){if(!S(n))throw new TypeError;return n}}function A(t){return t.value}function R(t){var e=t.next();return!e.done&&e}function j(t){var e=t.return;e&&e.call(t)}function T(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var n=t.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return e;var i=r.constructor;return"function"!=typeof i?e:i===t?e:i}function I(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,n,r){if(O(n)){if(!D(t))throw new TypeError;if(!C(e))throw new TypeError;return function(t,e){for(var n=t.length-1;n>=0;--n){var r=t[n],i=r(e);if(!O(i)&&!w(i)){if(!C(i))throw new TypeError;e=i}}return e}(t,e)}if(!D(t))throw new TypeError;if(!E(e))throw new TypeError;if(!E(r)&&!O(r)&&!w(r))throw new TypeError;return w(r)&&(r=void 0),n=P(n),function(t,e,n,r){for(var i=t.length-1;i>=0;--i){var o=t[i],a=o(e,n,r);if(!O(a)&&!w(a)){if(!E(a))throw new TypeError;r=a}}return r}(t,e,n,r)}),e("metadata",function(t,e){return function(n,r){if(!E(n))throw new TypeError;if(!O(r)&&!function(t){switch(m(t)){case 3:case 4:return!0;default:return!1}}(r))throw new TypeError;y(t,e,n,r)}}),e("defineMetadata",function(t,e,n,r){if(!E(n))throw new TypeError;O(r)||(r=P(r));return y(t,e,n,r)}),e("hasMetadata",function(t,e,n){if(!E(e))throw new TypeError;O(n)||(n=P(n));return function t(e,n,r){var i=g(e,n,r);if(i)return!0;var o=T(n);if(!w(o))return t(e,o,r);return!1}(t,e,n)}),e("hasOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;O(n)||(n=P(n));return g(t,e,n)}),e("getMetadata",function(t,e,n){if(!E(e))throw new TypeError;O(n)||(n=P(n));return function t(e,n,r){var i=g(e,n,r);if(i)return v(e,n,r);var o=T(n);if(!w(o))return t(e,o,r);return}(t,e,n)}),e("getOwnMetadata",function(t,e,n){if(!E(e))throw new TypeError;O(n)||(n=P(n));return v(t,e,n)}),e("getMetadataKeys",function(t,e){if(!E(t))throw new TypeError;O(e)||(e=P(e));return function t(e,n){var r=b(e,n);var i=T(e);if(null===i)return r;var o=t(i,n);if(o.length<=0)return r;if(r.length<=0)return o;var a=new h;var s=[];for(var c=0,u=r;c<u.length;c++){var l=u[c],p=a.has(l);p||(a.add(l),s.push(l))}for(var f=0,d=o;f<d.length;f++){var l=d[f],p=a.has(l);p||(a.add(l),s.push(l))}return s}(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!E(t))throw new TypeError;O(e)||(e=P(e));return b(t,e)}),e("deleteMetadata",function(t,e,n){if(!E(e))throw new TypeError;O(n)||(n=P(n));var r=_(e,n,!1);if(O(r))return!1;if(!r.delete(t))return!1;if(r.size>0)return!0;var i=d.get(e);return i.delete(n),i.size>0||(d.delete(e),!0)})}(o)}()}(n||(n={}));try{Reflect!==n&&r()}catch(t){r()}function r(){var t=window||e;t&&(t.Reflect=n)}}).call(this,n(46),n(47))},function(t,e,n){"use strict";var r=function(){function t(t){this.__observables=[],this._type=t}return Object.defineProperty(t.prototype,"__type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__observable",{get:function(){return this.__observables[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"__oriObservable",{get:function(){return this.__observables[this.__observables.length-1]},enumerable:!0,configurable:!0}),t.prototype.redispatch=function(){this.__oriObservable.dispatch(this)},t}();e.a=r},function(t,e,n){"use strict";function r(t,e,n){if(t.isMySkin(n)&&t.isMySkin(e)){var r=t.getParent(e);if(r){var i=t.getChildIndex(r,e);t.addChildAt(r,n,i),t.removeChild(r,e)}}}n.d(e,"a",function(){return r})},function(t,e,n){"use strict";var r=n(19),i=function(){function t(t,e,n,i,o,a){for(var s=[],c=6;c<arguments.length;c++)s[c-6]=arguments[c];this._disposed=!1,this._bind=t,this._currentTarget=e,this._target=n,this._exp=i,this._thisArg=a,this._scopes=s,this._expFunc=Object(r.a)(i,1+s.length),this._callback=o,this.update()}return Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.getValue=function(){var e,n;if(this._disposed)return null;t.updating=this;var r={$this:this._bind.mediator,$data:this._bind.mediator.viewModel,$bridge:this._bind.mediator.bridge,$currentTarget:this._currentTarget,$target:this._target};try{n=(e=this._expFunc).call.apply(e,[this._thisArg].concat(this._scopes,[r]))}catch(t){console.warn("表达式求值错误\nerr: "+t.toString()+"\nexp："+this._exp)}return t.updating=null,n},t.prototype.update=function(e){if(!this._disposed){var n=this.getValue();t.isEqual(n,this._value)||(this._callback&&this._callback(n,this._value,e),this._value=t.deepCopy(n))}},t.prototype.dispose=function(){this._disposed||(this._value=null,this._target=null,this._exp=null,this._scopes=null,this._expFunc=null,this._callback=null,this._disposed=!0)},t.isEqual=function(e,n){return e==n||!(!t.isObject(e)||!t.isObject(n))&&JSON.stringify(e)==JSON.stringify(n)},t.isObject=function(t){return t&&"object"==typeof t},t.deepCopy=function(e){if(t.isObject(e))try{return JSON.parse(JSON.stringify(e))}catch(t){}return e},t.updating=null,t._uid=0,t}();e.a=i},function(t,e,n){"use strict";var r=function(){function t(){}return t.MESSAGE_DISPATCHED="messageDispatched",t}();e.a=r},function(t,e,n){"use strict";n.d(e,"a",function(){return a});n(0);var r=n(14),i=n(6),o=n(5);function a(t){if(t.url)if(t.url instanceof Array){var e=t.url,n=[],s=Object(i.a)(t);s.onResponse=function(t){n.push(t),c()};var c=function(){e.length<=0?t.onResponse&&t.onResponse(n):(s.url=e.shift(),a(s))};c()}else{var u=t.retryTimes||2,l=t.timeout||1e4,p=t.method||"GET",f=0,h=t.data||{},d=t.url;t.useCDN?d=r.a.toCDNHostURL(d):(d=Object(o.e)(d,t.forceHTTPS?"https:":null),d=Object(o.d)(d));var _=window.XDomainRequest&&navigator.userAgent.indexOf("MSIE 10.")<0?new window.XDomainRequest:window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");g()}else t.onResponse&&t.onResponse();function g(){var e=null;switch(p){case"POST":switch(t.headerDict&&t.headerDict["Content-Type"]){case"application/x-www-form-urlencoded":e=function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}(h);break;default:e=JSON.stringify(h)}break;case"GET":d=Object(o.c)(d,h);break;default:throw new Error("暂不支持的HTTP Method："+p)}if(_.open(p,d,!0),t.responseType&&(_.responseType=t.responseType),t.withCredentials&&(_.withCredentials=!0),_.onload=v,_.onerror=y,_.setRequestHeader)for(var n in t.headerDict)_.setRequestHeader(n,t.headerDict[n]);_.send(e),f=window.setTimeout(y,l)}function v(e){switch(_.status?Math.floor(.01*_.status):2){case 2:case 3:f&&clearTimeout(f),f=0,t.onResponse&&t.onResponse(_.response||_.responseText);break;case 4:case 5:y()}}function y(){if(f&&clearTimeout(f),f=0,u>0)u--,_.abort(),d=Object(o.c)(d,{_r:Date.now()}),g();else if(t.useCDN&&!r.a.nextCDN())a(t);else{var e=new Error(_.status?_.status+" "+_.statusText:"请求错误，且无法获取错误信息");t.onError&&t.onError(e)}}}},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(0),i=n(1),o=n(2),a=function(){function t(){this._nextFrameList=[],this._timer=0;var t=this;if(window.requestAnimationFrame instanceof Function)requestAnimationFrame(function e(n){t._timer=n;t.tick();requestAnimationFrame(e)});else{var e=Date.now();setInterval(function(){var n=Date.now();t._timer=n-e,t.tick()},1e3/60)}}return t.prototype.getTimer=function(){return this._timer},t.prototype.tick=function(){for(var t=0,e=this._nextFrameList.length;t<e;t++){var n=this._nextFrameList.shift();n[0].apply(n[1],n[2])}},t.prototype.nextFrame=function(t,e){for(var n=this,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=[t,e,r];return this._nextFrameList.push(o),{cancel:function(){var t=n._nextFrameList.indexOf(o);t>=0&&n._nextFrameList.splice(t,1)}}},t.prototype.enterFrame=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=this,o=this.nextFrame.apply(this,[s,e].concat(n)),a=!1;return{cancel:function(){o.cancel(),a=!0}};function s(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.apply(this,e),a||(o=i.nextFrame.apply(i,[s,this].concat(e)))}},t.prototype.setTimeout=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=this._timer,a=this.nextFrame(function i(){var s=this._timer-o;s>=t?(a=null,e.apply(n,r)):a=this.nextFrame(i,this)},this);return{cancel:function(){a&&a.cancel(),a=null}}},t.prototype.setInterval=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o=this.setTimeout(t,function i(){e.apply(n,r);a||(o=this.setTimeout(t,i,this))},this),a=!1;return{cancel:function(){o&&o.cancel(),o=null,a=!0}}},t=r.b([o.a,r.e("design:paramtypes",[])],t)}(),s=i.a.getInject(a)},function(t,e,n){"use strict";var r=n(0),i=n(9),o=n(17),a=n(21),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.policy=n,r}return r.c(e,t),e.prototype.__afterOnOpen=function(t){o.a.push(this,t)},e.prototype.__afterOnClose=function(t){var e=this,n=this.onAfterOut;this.onAfterOut=function(t,r){n.call(e,t,r),e.dispatch(a.a.MEDIATOR_CLOSED,e)},o.a.pop(this,t)},e.prototype.onBeforeIn=function(t,e){},e.prototype.onAfterIn=function(t,e){},e.prototype.onBeforeOut=function(t,e){},e.prototype.onAfterOut=function(t,e){},e}(i.a);e.a=s},function(t,e,n){"use strict";var r=n(0),i=function(t){function e(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var i=t.call(this,e)||this;return i.params=n,i}return r.c(e,t),e}(n(33).a),o=n(36),a=function(){function t(t){this._listenerDict={},this._commandDict={},this._disposed=!1,this.parent=t&&t.observable}return Object.defineProperty(t.prototype,"observable",{get:function(){return this},enumerable:!0,configurable:!0}),t.prototype.handleMessages=function(t){var e,n=this._listenerDict[t.__type],r=this._listenerDict[t.constructor.toString()],o=n&&r?n.concat(r):n||r;if(o)for(var a=0,s=o=o.concat();a<s.length;a++){var c=s[a];t instanceof i?(e=c.handler).call.apply(e,[c.thisArg].concat(t.params)):c.handler.call(c.thisArg,t),c.once&&(this.unlisten(t.__type,c.handler,c.thisArg,c.once),this.unlisten(t.constructor.toString(),c.handler,c.thisArg,c.once))}},t.prototype.doDispatch=function(t){t.__observables.push(this),this.handleCommands(t),this.handleMessages(t)},t.prototype.dispatch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._disposed){var r=t;"string"==typeof t&&((r=new i(t)).params=e),this.doDispatch(r),this.doDispatch(new i(o.a.MESSAGE_DISPATCHED,r)),this.parent&&this.parent.dispatch(r)}},t.prototype.listen=function(t,e,n,r){if(void 0===r&&(r=!1),!this._disposed){t="string"==typeof t?t:t.toString();var i=this._listenerDict[t];i||(this._listenerDict[t]=i=[]);for(var o=0,a=i.length;o<a;o++){var s=i[o];if(s.handler==e&&s.thisArg==n)return}i.push({handler:e,thisArg:n,once:r})}},t.prototype.unlisten=function(t,e,n,r){if(void 0===r&&(r=!1),!this._disposed){t="string"==typeof t?t:t.toString();var i=this._listenerDict[t];if(i)for(var o=0,a=i.length;o<a;o++){var s=i[o];if(s.handler==e&&s.thisArg==n&&s.once==r){i.splice(o,1);break}}}},t.prototype.handleCommands=function(t){var e=this._commandDict[t.__type];if(e)for(var n=0,r=e=e.concat();n<r.length;n++){new(0,r[n])(t).exec()}},t.prototype.mapCommand=function(t,e){if(!this._disposed){var n=this._commandDict[t];n||(this._commandDict[t]=n=[]),n.indexOf(e)<0&&n.push(e)}},t.prototype.unmapCommand=function(t,e){if(!this._disposed){var n=this._commandDict[t];if(n){var r=n.indexOf(e);r<0||n.splice(r,1)}}},Object.defineProperty(t.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._disposed||(this.parent=null,this._listenerDict=null,this._commandDict=null,this._disposed=!0)},t}();e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(28),o=n(13),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.exec=function(){var t=this.msg.params[0];t.success||o.a.alert(t.__params.info)},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(0),i=n(28),o=n(13),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.exec=function(){var t=this;o.a.prompt("网络异常，请检查后重试",{data:"稍后再试"},{data:"立即重试",handler:function(e){t.msg.params[1].redispatch()}})},e}(i.a);e.a=a},function(t,e,n){"use strict";var r=n(1),i=n(14),o=n(20),a=n(15),s=n(16),c=n(37),u=n(5),l=n(0),p=n(13),f=n(2),h=function(){function t(){}return t.prototype.reload=function(){window.location.reload(!0)},t}(),d=function(){function t(){this.platform=new h}return t.prototype.reload=function(){this.platform.reload()},t=l.b([f.a],t)}(),_=r.a.getInject(d),g=function(){function t(){}return t.prototype.init=function(){return l.a(this,void 0,void 0,function(){return l.d(this,function(t){return[2]})})},t.prototype.getVirtualUrl=function(t){return t=i.a.toCDNHostURL(t),t=s.a.wrapHashUrl(t)},t}(),v=function(){function t(t){this._retryDict={},this._handler=t}return t.prototype.loadGroups=function(t){this._handler.start&&this._handler.start();var e,n={},r=(t=t&&t.filter(function(t){return"string"==typeof t?""!=t:""!=t.name}))?t.length:0;if(0==r)this._handler.complete&&this._handler.complete(n);else{RES.addEventListener(RES.ResourceEvent.GROUP_PROGRESS,c,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,l,this);var o=t.concat();for(var a in e={},t){var s=t[a];"string"==typeof s?(e[s]=0,RES.loadGroup(s)):(e[s.name]=0,RES.loadGroup(s.name,s.priority))}}function c(t){var i=n[t.groupName];i||(n[t.groupName]=i={}),i[t.resItem.name]=t.resItem,e[t.groupName]=t.itemsLoaded/t.itemsTotal;var o=0;for(var a in e)o+=e[a];o/=r,this._handler.progress&&this._handler.progress(t.resItem,o)}function u(t){this._handler.oneComplete&&this._handler.oneComplete(n[t.groupName]);var e=o.indexOf(t.groupName);e>=0&&(o.splice(e,1),0==o.length&&(RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,c,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,l,this),this._handler.complete&&this._handler.complete(n)))}function l(t){var e=t.groupName,n=this._retryDict[e];(null==n&&(n=0),n<3)?(this._retryDict[e]=++n,console.warn("加载失败，重试第"+n+"次: "+e),RES.loadGroup(t.groupName)):(console.warn("加载失败3次，正在尝试切换CDN..."),i.a.nextCDN()?(RES.removeEventListener(RES.ResourceEvent.GROUP_PROGRESS,c,this),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,u,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,l,this),this._handler.oneError&&this._handler.oneError(t),p.a.confirm("资源组加载失败["+e+"]，点击确定刷新页面",function(){_.reload()})):RES.loadGroup(t.groupName))}},t}(),y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return l.c(e,t),e.prototype.exec=function(){var t=this.msg.params,e=t[0],n=t[1];e&&e.bridge.type===I.TYPE&&n&&n.bridge.type!==I.TYPE&&egret.updateAllScreens()},e}(n(28).a),b=n(7),m=function(){function t(t){this._maskAlpha=.5,this._loadingAlpha=.5,this._modalPanelAlpha=.5,null!=t&&(this._maskAlpha=null!=t.maskAlpha?t.maskAlpha:.5,this._loadingAlpha=null!=t.loadingAlpha?t.loadingAlpha:.5,this._modalPanelAlpha=null!=t.modalPanelAlpha?t.modalPanelAlpha:.5,this._loadingSkinFactory=t.loadingSkinFactory),this.maskData=t||{},this._mask=new egret.Shape,this._mask.touchEnabled=!0,this._loadingMask=new egret.Shape,this._loadingMask.touchEnabled=!0,this._modalPanelList=[],this._modalPanelMask=new egret.Shape,this._modalPanelMask.touchEnabled=!0}return Object.defineProperty(t.prototype,"loadingSkin",{get:function(){return!this._loadingSkin&&this._loadingSkinFactory&&(this._loadingSkin=this._loadingSkinFactory()),this._loadingSkin},enumerable:!0,configurable:!0}),t.prototype.showMask=function(t){var e=b.a.getBridge(I.TYPE);null==t&&(t=this._maskAlpha),this._mask.graphics.clear(),this._mask.graphics.beginFill(0,t),this._mask.graphics.drawRect(0,0,e.root.stage.stageWidth,e.root.stage.stageHeight),this._mask.graphics.endFill(),e.maskLayer.addChild(this._mask)},t.prototype.hideMask=function(){null!=this._mask.parent&&this._mask.parent.removeChild(this._mask)},t.prototype.showLoading=function(t){var e=b.a.getBridge(I.TYPE);null==t&&(t=this._loadingAlpha),this._loadingMask.graphics.clear(),this._loadingMask.graphics.beginFill(0,t),this._loadingMask.graphics.drawRect(0,0,e.root.stage.stageWidth,e.root.stage.stageHeight),this._loadingMask.graphics.endFill(),e.maskLayer.addChild(this._loadingMask),this.loadingSkin&&e.maskLayer.addChild(this.loadingSkin)},t.prototype.hideLoading=function(){null!=this._loadingMask.parent&&this._loadingMask.parent.removeChild(this._loadingMask),null!=this.loadingSkin&&null!=this.loadingSkin.parent&&this.loadingSkin.parent.removeChild(this._loadingSkin)},t.prototype.showModalMask=function(t,e){this._modalPanelList.push(t);var n=b.a.getBridge(I.TYPE);null==e&&(e=this._modalPanelAlpha),this._modalPanelMask.graphics.clear(),this._modalPanelMask.graphics.beginFill(0,e),this._modalPanelMask.graphics.drawRect(0,0,n.root.stage.stageWidth,n.root.stage.stageHeight),this._modalPanelMask.graphics.endFill();var r=t.skin,i=r.parent;if(null!=i){this._modalPanelMask.parent&&this._modalPanelMask.parent.removeChild(this._modalPanelMask);var o=i.getChildIndex(r);i.addChildAt(this._modalPanelMask,o)}},t.prototype.hideModalMask=function(t){if(this._modalPanelList.splice(this._modalPanelList.indexOf(t),1),this._modalPanelList.length<=0)null!=this._modalPanelMask.parent&&this._modalPanelMask.parent.removeChild(this._modalPanelMask);else{var e=this._modalPanelList[this._modalPanelList.length-1].skin,n=e.parent;if(null!=n){this._modalPanelMask.parent&&this._modalPanelMask.parent.removeChild(this._modalPanelMask);var r=n.getChildIndex(e);n.addChildAt(this._modalPanelMask,r)}}},t}();var O,w=function(){function t(){}return t.prototype.pop=function(t,e,n){var r=t.skin;egret.Tween.removeTweens(r),r.scaleX=1,r.scaleY=1;var i=0,o=0;null!=n?(i=n.x,o=n.y):(i=.5*r.stage.stageWidth,o=.5*r.stage.stageHeight),r.x=i-.5*r.width,r.y=o-.5*r.height,function(t,e,n,r){var i={};for(var o in e)i[o]=t[o],t[o]=e[o];return egret.Tween.get(t).to(i,n,r)}(r,{x:i,y:o,scaleX:0,scaleY:0},300,egret.Ease.backOut).call(e)},t.prototype.drop=function(t,e,n){var r=t.skin;egret.Tween.removeTweens(r);var i=0,o=0;null!=n?(i=n.x,o=n.y):(i=r.x+.5*r.width,o=r.y+.5*r.height),function(t,e,n,r){return egret.Tween.get(t).to(e,n,r)}(r,{x:i,y:o,scaleX:0,scaleY:0},300,egret.Ease.backIn).call(function(){r.scaleX=1,r.scaleY=1,null!=e&&e()})},t}();!function(t){t[t.AUTO=0]="AUTO",t[t.CANVAS=1]="CANVAS",t[t.WEBGL=2]="WEBGL"}(O||(O={}));var E=O,k=function(){function t(){this._tempSnapshot=new egret.Bitmap}return t.prototype.prepareSwitch=function(t,e){if(null!=t){var n=t.bridge.root,r=new egret.RenderTexture;r.drawToTexture(n),this._tempSnapshot.texture=r,this._tempSnapshot.alpha=1,n.addChild(this._tempSnapshot);var i=t.skin;null!=i.parent&&i.parent.removeChild(i)}},t.prototype.switch=function(t,e,n){null!=t?(egret.Tween.removeTweens(this._tempSnapshot),egret.Tween.get(this._tempSnapshot).to({alpha:0},300).call(function(){null!=this._tempSnapshot.parent&&this._tempSnapshot.parent.removeChild(this._tempSnapshot),null!=this._tempSnapshot.texture&&(this._tempSnapshot.texture.dispose(),this._tempSnapshot.texture=null),n()},this)):(null!=this._tempSnapshot.parent&&this._tempSnapshot.parent.removeChild(this._tempSnapshot),n())},t}(),P=n(38);function D(t,e){var n=new egret.TextField;n.fontFamily=t,n.visible=!1,n.text="0",e.addChild(n),P.a.nextFrame(function(){e.removeChild(n)})}var S=n(8),C=n(39),M=n(3);function A(t,e){var n,r=function t(e){if(!(e instanceof egret.DisplayObject))return null;if(e instanceof eui.Component&&e.skin)return e;return t(e.parent)}(e);if(r||e instanceof egret.DisplayObject)n=e;else{var i=t.skin instanceof eui.Component&&t.skin.constructor||eui.Component;(r=new i).skinName=e,n=r}return t.status<S.a.OPENING?Object(M.b)(t,"onOpen",o):o(),n;function o(){if(t instanceof C.a&&(r.percentWidth=100,r.percentHeight=100),n instanceof egret.DisplayObjectContainer&&r&&r.skin)for(var i=e instanceof egret.DisplayObjectContainer,o=0,a=r.skin.skinParts;o<a.length;o++){var s=a[o],c=r[s];i&&!R(c,e)||(t[s]=c)}}}function R(t,e){return t!==e&&function t(e,n){if(!e||!n)return!1;if(e===n)return!0;return t(e.parent,n)}(t,e)}var j=function(t){function e(e,n){var r=t.call(this)||this;return r.skinName=e,r._rendererHandler=n,r}return l.c(e,t),e.prototype.dataChanged=function(){t.prototype.dataChanged.call(this),this._rendererHandler(this.data,this)},e}(eui.ItemRenderer),T=function(){function t(t){this.defaultPanelPolicy=new w,this.defaultScenePolicy=new k,this._initParams=t}return Object.defineProperty(t.prototype,"type",{get:function(){return t.TYPE},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"htmlWrapper",{get:function(){return this._initParams.container},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stage",{get:function(){return this._stage},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bgLayer",{get:function(){return this._bgLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"sceneLayer",{get:function(){return this._sceneLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"frameLayer",{get:function(){return this._frameLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"panelLayer",{get:function(){return this._panelLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskLayer",{get:function(){return this._maskLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"topLayer",{get:function(){return this._topLayer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"promptClass",{get:function(){return this._initParams.promptClass},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maskEntity",{get:function(){return new m(this._initParams.maskData)},enumerable:!0,configurable:!0}),t.prototype.init=function(t){var e=document.createElement("style");e.textContent="\n            html, body {\n                -ms-touch-action: none;\n                background: "+egret.toColorString(this._initParams.backgroundColor||0)+";\n                padding: 0;\n                border: 0;\n                margin: 0;\n                height: 100%;\n            }\n        ",document.head.appendChild(e),"string"==typeof this._initParams.container&&(this._initParams.container=document.querySelector(this._initParams.container)),this._initParams.container||(this._initParams.container=document.createElement("div"),document.body.appendChild(this._initParams.container));var n=this._initParams.container;n.style.margin="auto",n.style.width="100%",n.style.height="100%",n.style.position="absolute",n.style.top="0%",n.style.left="0%",n.className="egret-player",n.setAttribute("data-entry-class","__EgretRoot__"),n.setAttribute("data-orientation","auto"),n.setAttribute("data-scale-mode",this._initParams.scaleMode||egret.StageScaleMode.FIXED_NARROW),n.setAttribute("data-frame-rate",(this._initParams.frameRate||60)+""),n.setAttribute("data-content-width",this._initParams.width+""),n.setAttribute("data-content-height",this._initParams.height+""),n.setAttribute("data-show-paint-rect",(this._initParams.showPaintRect||!1)+""),n.setAttribute("data-multi-fingered",(this._initParams.multiFingered||2)+""),n.setAttribute("data-show-fps",(this._initParams.showFPS||!1)+""),n.setAttribute("data-show-fps-style",this._initParams.showFPSStyle||"x:0,y:0,size:12,textColor:0xffffff,bgAlpha:0.9"),n.setAttribute("data-show-log",(this._initParams.showLog||!1)+"");var o=this;switch(window.__EgretRoot__=function(){eui.UILayer.call(this),this.touchEnabled=!1},window.__EgretRoot__.prototype=new eui.UILayer,window.__EgretRoot__.prototype.$onAddToStage=function(t,e){eui.UILayer.prototype.$onAddToStage.call(this,t,e),delete window.__EgretRoot__,function(t){o._root=t,o._stage=t.stage,o._bgLayer=new eui.UILayer,o._bgLayer.touchEnabled=!1,t.addChild(o._bgLayer),o._sceneLayer=new eui.UILayer,o._sceneLayer.touchEnabled=!1,t.addChild(o._sceneLayer),o._frameLayer=new eui.UILayer,o._frameLayer.touchEnabled=!1,t.addChild(o._frameLayer),o._panelLayer=new eui.UILayer,o._panelLayer.touchEnabled=!1,t.addChild(o._panelLayer),o._maskLayer=new eui.UILayer,o._maskLayer.touchEnabled=!1,t.addChild(o._maskLayer),o._topLayer=new eui.UILayer,o._topLayer.touchEnabled=!1,t.addChild(o._topLayer);for(var e=0,n=o._initParams.embededFonts||[];e<n.length;e++){var i=n[e];D(i,o._stage)}r.a.mapCommand(a.a.SCENE_BEFORE_CHANGE,y),egret.registerImplementation("eui.IAssetAdapter",new L),egret.registerImplementation("eui.IThemeAdapter",new x(o._initParams)),!1!==o._initParams.loadThemeConfig?RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,l,o):RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,p,o);!1!==o._initParams.hasAssetsVersion?RES.loadConfig(s.a.wrapHashUrl(o._initParams.pathPrefix+"resource/default.res.json"),o._initParams.pathPrefix+"resource/"):RES.loadConfig(o._initParams.pathPrefix+"resource/default.res.json",o._initParams.pathPrefix+"resource/")}(this)},this._initParams.renderMode){case E.WEBGL:c("webgl");break;case E.CANVAS:default:c("canvas")}function c(t){if(window.eui){var e=eui.DataGroup.prototype.commitProperties;eui.DataGroup.prototype.commitProperties=function(){return this.__egret_datagroup_state__=1,e.apply(this,arguments)};var n=eui.DataGroup.prototype.getVirtualElementAt;eui.DataGroup.prototype.getVirtualElementAt=function(){return this.__egret_datagroup_state__=2,n.apply(this,arguments)};var r=eui.registerBindable;eui.registerBindable=function(t,e){var n=r.call(this,t,e),i=Object.getOwnPropertyDescriptor(t,"__bindables__");return i&&i.enumerable&&(i.enumerable=!1,Object.defineProperty(t,"__bindables__",i)),n};var i=eui.Watcher.checkBindable;eui.Watcher.checkBindable=function(t,e){var n=i.call(this,t,e),r=Object.getOwnPropertyDescriptor(t,"__listeners__");return r&&r.enumerable&&(r.enumerable=!1,Object.defineProperty(t,"__listeners__",r)),n}}!1!==o._initParams.hasAssetsVersion&&RES.registerVersionController(new g),egret.runEgret({renderMode:t,audioType:0,entryClassName:"__EgretRoot__"})}function l(){var t;RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,l,o),t=!1!==o._initParams.hasAssetsVersion?Object(u.f)(o._initParams.pathPrefix+"resource/default.thm.json",i.a.curCDNHost):o._initParams.pathPrefix+"resource/default.thm.json",new eui.Theme(t,o._root.stage).addEventListener(eui.UIEvent.COMPLETE,p,o)}function p(e){e.target.removeEventListener(eui.UIEvent.COMPLETE,p,o);var n=o._initParams.preloadGroups;o.loadAssets(n,null,function(e){return t(o)})}},t.prototype.isMySkin=function(t){return t instanceof egret.DisplayObject||(t instanceof Function?t.prototype instanceof egret.DisplayObject:"string"==typeof t?null!=egret.getDefinitionByName(t):void 0)},t.prototype.wrapSkin=function(t,e){return A(t,e)},t.prototype.replaceSkin=function(t,e,n){if(e instanceof eui.Component)return n instanceof eui.Component?e.skinName=n.skin:n instanceof egret.DisplayObject?(e.skinName=null,e.addChild(n)):e.skinName=n,e;if(!(n instanceof egret.DisplayObject)){var r=new eui.Component;r.skinName=n,n=r}var i=e.parent;return i.addChildAt(n,i.getChildIndex(e)),i.removeChild(e),n},t.prototype.syncSkin=function(t,e){if(t&&e){var n=["matrix","anchorOffsetX","anchorOffsetY","alpha","visible"];t.width>0&&n.push("width"),t.height>0&&n.push("height"),t instanceof eui.Component&&e instanceof eui.Component&&n.push.apply(n,["horizontalCenter","verticalCenter","left","right","top","bottom"]);for(var r=0,i=n;r<i.length;r++){var o=i[r];e[o]=t[o]}}},t.prototype.createEmptyDisplay=function(){return new egret.Sprite},t.prototype.addChild=function(t,e){return t&&e?t.addChild(e):e},t.prototype.addChildAt=function(t,e,n){return t&&e?t.addChildAt(e,n):e},t.prototype.removeChild=function(t,e){return t&&e&&e.parent===t?t.removeChild(e):e},t.prototype.removeChildAt=function(t,e){return t&&e>=0?t.removeChildAt(e):null},t.prototype.removeChildren=function(t){t&&t.removeChildren()},t.prototype.getParent=function(t){return t.parent},t.prototype.getChildAt=function(t,e){return t.getChildAt(e)},t.prototype.getChildIndex=function(t,e){return t.getChildIndex(e)},t.prototype.getChildByName=function(t,e){return t.getChildByName(e)},t.prototype.getChildCount=function(t){return t.numChildren},t.prototype.loadAssets=function(t,e,n){new v({oneError:function(t){n(new Error("资源加载失败")),r.a.dispatch(o.a.MODULE_LOAD_ASSETS_ERROR,t)},complete:function(t){n()}}).loadGroups(t)},t.prototype.mapListener=function(t,e,n,r){t.addEventListener(e,n,r)},t.prototype.unmapListener=function(t,e,n,r){t.removeEventListener(e,n,r)},t.prototype.wrapBindFor=function(t,e){var n={};return function(t,e,n){if(t.itemRenderer=j.bind(null,t.itemRendererSkinName,e),n){var r=function(){(t.contentWidth>0||t.contentHeight>0)&&(t.removeEventListener(egret.Event.ENTER_FRAME,r,this),n(t.dataProvider,t))};t.addEventListener(egret.Event.ENTER_FRAME,r,this)}}(t,function(r,i){var o,a=n.datas;if(a instanceof Array)o=i.itemIndex;else for(var s in a)if(a[s]===r){o=s;break}null!=o&&(n.syncDict?n.syncDict[o]||1!==t.__egret_datagroup_state__&&2!==t.__egret_datagroup_state__||(n.syncDict[o]=r,e(o,r,i)):e(o,r,i))}),n},t.prototype.valuateBindFor=function(t,e,n){var r;if(t.__egret_datagroup_state__=0,n.datas=e,n.syncDict={},setTimeout(function(){delete n.syncDict},0),e instanceof Array)r=new eui.ArrayCollection(e);else{var i=[];for(var o in e)i.push(e[o]);r=new eui.ArrayCollection(i)}t.dataProvider=r},t.TYPE="Egret",t}(),I=e.a=T,L=function(){function t(){}return t.prototype.getAsset=function(t,e,n){if(RES.hasRes(t)){var r=RES.getRes(t);r?i(r):RES.getResAsync(t,i,this)}else RES.getResByUrl(t,i,this,RES.ResourceItem.TYPE_IMAGE);function i(r){e.call(n,r,t)}},t}(),x=function(){function t(t){this._initParams=t}return t.prototype.getTheme=function(t,e,n,r){var i=this;Object(c.a)({url:s.a.wrapHashUrl(t),useCDN:!0,responseType:"text",onResponse:function(t){try{var n=JSON.parse(t);for(var o in n.skins)n.skins[o]=i._initParams.pathPrefix+n.skins[o];for(var o in n.exmls){var a=n.exmls[o];"string"==typeof a?n.exmls[o]=i._initParams.pathPrefix+a:a.path=i._initParams.pathPrefix+a.path}t=JSON.stringify(n)}catch(t){}e.call(r,t)},onError:function(){n.call(r)}})},t}()},function(t,e,n){"use strict";var r=n(0),i=n(29),o=n(10),a=n(9),s=n(13),c=n(21),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.policy=n,r}return r.c(e,t),e.prototype.__afterOnOpen=function(t,e,n){s.a.pop(this,t,e,n)},e.prototype.__afterOnClose=function(t,e){var n=this,r=this.onAfterDrop;this.onAfterDrop=function(t,e){r.call(n,t,e),n.dispatch(c.a.MEDIATOR_CLOSED,n)},s.a.drop(this,t,e)},e.prototype.onBeforePop=function(t,e,n){},e.prototype.onAfterPop=function(t,e,n){},e.prototype.onBeforeDrop=function(t,e){},e.prototype.onAfterDrop=function(t,e){},e}(a.a);n.d(e,"a",function(){return l});var l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.onOpen=function(){this.viewModel={msg:null,title:null,handlers:null}},e.prototype.update=function(t){for(var e in t)this.viewModel[e]=t[e]},r.b([Object(o.d)("text",function(t){return t.title||""}),r.e("design:type",eui.Label)],e.prototype,"txt_title",void 0),r.b([Object(o.d)("text",function(t){return t.msg||""}),r.e("design:type",eui.Label)],e.prototype,"txt_content",void 0),r.b([Object(o.b)(function(t){return!t.handlers||0===t.handlers.length}),Object(o.c)(egret.TouchEvent.TOUCH_TAP,function(t){return t.$this.close()}),r.e("design:type",eui.Button)],e.prototype,"btn_close",void 0),r.b([Object(o.a)(["btn","of",function(t){return t.handlers}]),Object(o.d)({"labelDisplay.text":function(t){return t.btn.text}}),Object(o.c)(egret.TouchEvent.TOUCH_TAP,function(t){t.btn.handler&&t.btn.handler(t.btn.data),t.$this.close()}),r.e("design:type",eui.DataGroup)],e.prototype,"lst_buttons",void 0),e=r.b([Object(i.a)("EgretPrompt","skins.PromptSkin")],e)}(u)},function(t,e,n){"use strict";var r=n(0),i=n(29),o=n(10),a=n(13),s=n(39),c=n(9),u=n(22),l=n(17),p=n(15),f=n(24),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),e.prototype.listAssets=function(){return["common"]},e.prototype.onOpen=function(e){t.prototype.onOpen.call(this,e),this.skin.touchEnabled=!1,this.skin.width=this.bridge.root.stage.stageWidth,this.btn_back.visible=!1},e.prototype.updateView=function(){this.txt_name.text=this.topBarText,this.txt_name.x=.5*(this.txt_name.stage.stageWidth-this.txt_name.width),this.txt_name.textColor=this.topBarTextColor;var t=this.topBarBGColor;this.itm_bg.fillAlpha=(t>>>24)/255,this.itm_bg.fillColor=16777215&t},e.prototype.updateButton=function(){this.btn_back.visible=this.backButtonVisible},r.b([Object(o.c)(egret.TouchEvent.TOUCH_TAP,"$this.onBack()"),r.e("design:type",eui.Button)],e.prototype,"btn_back",void 0),e=r.b([Object(i.a)("EgretTopBar","skins.TopBarSkin")],e)}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.c(e,t),Object.defineProperty(e.prototype,"topBarText",{get:function(){if(null!=this._topBarText)return this._topBarText;var t=l.a.currentScene;if(t){var e=t.topBarText;if(e)return e}return""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topBarTextColor",{get:function(){if(null!=this._topBarTextColor)return this._topBarTextColor;var t=l.a.currentScene;if(t){var e=t.topBarTextColor;if(void 0!==e&&null!==e)return e}return 16777215},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"topBarBGColor",{get:function(){if(null!=this._topBarBgColor)return this._topBarBgColor;var t=l.a.currentScene;if(t){var e=t.topBarBgColor;if(void 0!==e&&null!==e)return e}return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"backButtonVisible",{get:function(){return l.a.activeCount>1},enumerable:!0,configurable:!0}),e.prototype.onBack=function(){var t=this,e=l.a.currentScene;e&&e.backHandler?e.backHandler():null==this._backHandler?this.doBack():this._backHandler(function(){t.doBack()})},e.prototype.doBack=function(){u.a.activeCount>1&&(u.a.open(this.root),u.a.close(this.root))},e.prototype.onChangeScene=function(t){this.root.containsMediator(t)?(this.bridge.addChild(this.bridge.frameLayer,this.skin),this.updateView(),this.updateButton()):this.bridge.removeChild(this.bridge.frameLayer,this.skin)},e.prototype.onSceneStackChange=function(){this.updateButton()},e.prototype.onUpdateTopbar=function(t,e,n){this._topBarText=t,this._topBarTextColor=e,this._topBarBgColor=n,this.updateView()},e.prototype.onAddTopbarItem=function(t){this.bridge.addChild(this.skin,t)},e.prototype.onRegisterBackHandler=function(t){this._backHandler=t},e.prototype.onOpen=function(e){t.prototype.onOpen.call(this,e),f.a.listen(p.a.SCENE_BEFORE_CHANGE,this.onChangeScene,this),f.a.listen(p.a.SCENE_STACK_CHANGE,this.onSceneStackChange,this),this.root.listen("updateTopbarMessage",this.onUpdateTopbar,this),this.root.listen("addTopbarItemMessage",this.onAddTopbarItem,this),this.root.listen("registerBackHandlerMessage",this.onRegisterBackHandler,this)},e.prototype.dispose=function(){this._backHandler=null,f.a.unlisten(p.a.SCENE_BEFORE_CHANGE,this.onChangeScene,this),f.a.unlisten(p.a.SCENE_STACK_CHANGE,this.onSceneStackChange,this),this.root.unlisten("updateTopbarMessage",this.onUpdateTopbar,this),this.root.unlisten("addTopbarItemMessage",this.onAddTopbarItem,this),this.root.unlisten("registerBackHandlerMessage",this.onRegisterBackHandler,this),t.prototype.dispose.call(this)},e}(c.a)),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topBarText="首页",e}return r.c(e,t),e.prototype.listAssets=function(){return["homepage"]},e.prototype.onOpen=function(t){this.viewModel={curText:"欢迎使用Olympus",onClickBtn:function(){a.a.confirm("欢迎你！")}}},r.b([o.f,r.e("design:type",h)],e.prototype,"_topBar",void 0),r.b([Object(o.d)("text",function(t){return t.curText}),r.e("design:type",eui.Label)],e.prototype,"txt",void 0),r.b([Object(o.c)(egret.TouchEvent.TOUCH_TAP,function(t){return t.onClickBtn()}),r.e("design:type",eui.Button)],e.prototype,"btn",void 0),e=r.b([Object(i.a)("Homepage","skins.HomepageSkin")],e)}(s.a);e.a=d},function(t,e){var n,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&h())}function h(){if(!l){var t=s(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function _(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||l||s(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=_,i.addListener=_,i.once=_,i.off=_,i.removeListener=_,i.removeAllListeners=_,i.emit=_,i.prependListener=_,i.prependOnceListener=_,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},,function(t,e,n){"use strict";n.r(e);var r=n(43),i=n(26),o=n(24),a=n(41),s=n(42),c=n(44),u=n(45);o.b.startup({bridges:[new r.a({width:720,height:1280,pathPrefix:"",container:"#rootEgret",backgroundColor:16777215,scaleMode:egret.StageScaleMode.FIXED_NARROW,maskData:{loadingAlpha:0},promptClass:c.a,hasAssetsVersion:!1,loadThemeConfig:!1})],firstModule:u.a,loadElement:"#loading",onInited:function(){o.a.mapCommand(i.a.NET_ERROR,s.a),o.a.mapCommand(i.a.NET_RESPONSE,a.a)},hasVersion:!1})}]);